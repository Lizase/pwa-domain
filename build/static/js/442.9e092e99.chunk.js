"use strict";(self.webpackChunkqc_app=self.webpackChunkqc_app||[]).push([[442],{1117:(e,t,l)=>{l.d(t,{A:()=>u});var a=l(5043),s=l(3910),r=l(7929),i=l(3003),o=l(5542),n=l(6222),c=l(3216),d=l(579);const u=e=>{var t,l;let{styleProps:u}=e;const[m,x]=(0,a.useState)(!0),v=(0,i.wA)(),h=(0,c.Zp)(),p=(0,i.d4)((e=>e.ads.adData)),g=(0,i.d4)((e=>e.init.init));return(0,a.useEffect)((()=>{v((0,o.xH)(64))}),[v]),(0,a.useEffect)((()=>{console.log("adData: ",p),console.log("init: ",g)}),[p,g]),m?(0,d.jsx)(d.Fragment,{children:p[64]&&Array.isArray(p[64].data)&&(0,d.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-100 shadow-lg mx-auto",style:{maxWidth:"100%",width:"100%",height:"12%",...u},onClick:()=>{var e,t;return(e=>{const t=(0,n.G2)(e);if(null!==t&&"object"===typeof t)h(null===t||void 0===t?void 0:t.route,{state:null===t||void 0===t?void 0:t.state});else{const e=document.createElement("a");e.href=t,e.target="_blank",e.click()}})(null===(e=p[64])||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.link_url)},children:(0,d.jsxs)("div",{className:"relative flex justify-center items-center max-w-full h-full",children:[(0,d.jsx)("img",{className:"d-block w-full h-full object-contain",src:`${null===g||void 0===g?void 0:g.img_host}${null===(t=p[64])||void 0===t||null===(l=t.data[0])||void 0===l?void 0:l.img_url}`,alt:"Image",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=""}}),(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),x(!1)},className:"absolute w-8 h-8 top-2 right-2 bg-transparent text-gray-700 hover:text-gray-900",children:(0,d.jsx)(s.g,{icon:r.GRI,size:"lg"})})]})})}):null}},9415:(e,t,l)=>{l.d(t,{A:()=>i});l(5043);var a=l(5475),s=l(3003),r=l(579);const i=e=>{let{id:t,uuid:l,title:i,imageUrl:o,isLinkEnabled:n=!0,toggleSelectItem:c,onClick:d,mode:u}=e;const m=(0,s.d4)((e=>e.favorites.selectItem)).indexOf(t),x=-1!==m,v=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative aspect-[0.71]",onClick:()=>{c&&c(t),d&&d()},children:[x&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-50 z-10"}),x&&(0,r.jsx)("span",{className:"absolute top-0 right-0 m-1 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center z-20",children:m+1}),(0,r.jsx)("img",{loading:"lazy",src:o,alt:i||"Comic thumbnail",className:"object-cover w-full h-full"})]}),"indexLayout"===u?(0,r.jsx)("div",{className:"text-left mt-2 text-sm line-clamp-1",children:i}):(0,r.jsx)("div",{className:"text-left mt-2 text-sm line-clamp-2",children:i})]});return n?(0,r.jsx)(a.N_,{className:"flex flex-col",to:"/app/Comic",state:{uuid:l},children:v}):(0,r.jsx)("div",{className:"h-full w-full flex flex-col justify-between",children:v})}},9317:(e,t,l)=>{l.d(t,{A:()=>u});var a=l(4117),s=l(3910),r=l(7929),i=l(9415),o=l(5043),n=l(6222),c=l(3003),d=l(579);const u=(0,o.forwardRef)((e=>{let{title:t,loadMore:l,isLinkEnabled:u,toggleSelectItem:m,data:x,onReachBottom:v,onCardClick:h,lastPage:p=!1}=e;const{t:g}=(0,a.Bd)(),[f,b]=(0,o.useState)(!1),j=(0,o.useRef)(null),N=(0,c.d4)((e=>e.init.language));return(0,o.useEffect)((()=>{if(!j.current)return void console.log("Observer ref is not attached");const e=new IntersectionObserver((e=>{const t=e[0];console.log("Is intersecting:",t.isIntersecting),t.isIntersecting&&(b(!0),v&&v())}),{root:null,threshold:.5});return console.log("Observer attached to:",j.current),e.observe(j.current),p&&e.unobserve(j.current),()=>{j.current&&(console.log("Observer detached from:",j.current),e.unobserve(j.current))}}),[v]),x&&0!==x.length?(0,d.jsxs)("div",{className:"comic-map-container",children:[(0,d.jsxs)("div",{className:"flex px-4 items-end justify-between",children:[t&&(0,d.jsx)("h2",{className:"text-xl font-bold",children:t}),l&&(0,d.jsxs)("span",{className:"text-xs font-bold pl-4",children:[g("\u770b\u66f4\u591a"),(0,d.jsx)(s.g,{icon:r.vmR,className:"text-primary-active"})]})]}),(0,d.jsx)("div",{className:"flex flex-wrap px-2 pb-2",children:x.map(((e,t)=>{var l;return(0,d.jsx)("div",{className:"w-1/2 p-1",children:(0,d.jsx)(i.A,{id:e._id,uuid:e.ci_uuid?e.ci_uuid:e.uuid,title:(0,n.iz)(e,N),imageUrl:`https:${null!==(l=e.pic_big)&&void 0!==l?l:""}`,isLinkEnabled:u,toggleSelectItem:m,onClick:h})},t)}))}),(0,d.jsx)("div",{ref:j,className:"observer-target h-8"})]}):(console.log("No data available to display"),null)}))},7003:(e,t,l)=>{l.d(t,{A:()=>n});l(5043);var a=l(3910),s=l(7929),r=l(6448),i=l(4117),o=l(579);const n=e=>{let{onLoadMore:t}=e;const{t:l}=(0,i.Bd)(),n=l("\u770b\u66f4\u591a");return(0,o.jsx)("div",{className:"w-full flex justify-end",children:(0,o.jsxs)(r.A,{className:"button-rounded pr-0 text-white",onClick:t,children:[n,(0,o.jsx)(a.g,{icon:s.vmR,className:"mr-2"})]})})}},467:(e,t,l)=>{l.d(t,{A:()=>c});var a=l(5043),s=l(5475),r=l(4117),i=l(497),o=l(3003),n=l(579);const c=e=>{var t;let{id:l,uuid:c,title:d,imageUrl:u,preview:m,duration:x,actor:v,isLinkEnabled:h=!0,selectItems:p,toggleSelectItem:g,vWidth:f,cate:b,mode:j}=e;const N=null!==(t=null===p||void 0===p?void 0:p.indexOf(c))&&void 0!==t?t:-1,w=-1!==N,y=a.useRef([]),[k,A]=a.useState("vertical"),{t:C}=(0,r.Bd)();(0,o.wA)();a.useEffect((()=>{"vertical"!==f&&y.current.forEach((e=>{e&&(e.style.objectPosition="center")}))}),[f]);const E=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative w-full h-full overflow-hidden "+("\u6b50\u7f8e"===b||"\u6b27\u7f8e"===b?"aspect-[0.71]":"aspect-[1.49]"),id:c,onClick:()=>{g&&g(c)},children:[w&&(0,n.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-50 z-10"}),w&&(0,n.jsx)("span",{className:"absolute top-0 right-0 m-1 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center z-20",children:N+1}),(0,n.jsx)("div",{className:"map"!==j||"horizontal"!==k||"\u6b50\u7f8e"!==b&&"\u6b27\u7f8e"!==b?"w-full h-full relative":"w-full relative overflow-hidden pb-[70%]",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},children:(0,n.jsx)("img",{loading:"lazy",src:u,alt:d||"Video thumbnail",className:"object-cover w-full h-full",onLoad:e=>{const t=e.currentTarget;t.naturalWidth>t.naturalHeight?A("horizontal"):t.naturalWidth<t.naturalHeight&&A("vertical")},onError:e=>{e.target.onerror=null,e.target.src=i,e.target.style.objectPosition="center"},style:"map"!==j||"horizontal"!==k||"\u6b50\u7f8e"!==b&&"\u6b27\u7f8e"!==b?{objectPosition:"right",display:"block",width:"100%"}:{transform:"scale(2.11)",transformOrigin:"top right",display:"block",width:"100%",minHeight:250},ref:e=>y.current.push(e)})}),("\u5f37\u6a94\u7368\u5bb6"===b||"\u7368\u5bb6"===b||"\u5f3a\u6863\u72ec\u5bb6"===b||""===b)&&(0,n.jsx)("p",{className:"absolute top-0 left-0 m-1 rounded-full text-white text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-2",style:{borderColor:"rgb(5, 247, 72)",backgroundColor:"rgb(49, 79, 4)"},children:C("\u7368")}),("\u4e2d\u6587\u5b57\u5e55"===b||b===C("\u4e2d\u6587\u5b57\u5e55")||"\u4e2d\u6587"===b)&&(0,n.jsx)("p",{className:"absolute top-0 left-0 m-1 rounded-full bg-gray-700 text-fuchsia-500 text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-fuchsia-500 border-2",children:C("\u4e2d")}),("\u7121\u78bc"===b||"\u65e0\u7801"===b)&&(0,n.jsx)("p",{className:"absolute top-0 left-0 m-1 rounded-full bg-gray-700 text-sky-500 text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-blue-500 border-2",children:C("\u7121")}),"\u81ea\u62cd"===b&&(0,n.jsx)("p",{className:"absolute top-0 left-0 m-1 rounded-full bg-gray-700 text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-lime-500 border-2",style:{color:"rgb(22, 204, 182)",borderColor:"rgb(22, 204, 182)"},children:C("\u81ea")}),!["\u5f3a\u6863\u72ec\u5bb6","\u65e0\u7801","\u5f37\u6a94\u7368\u5bb6","\u7368\u5bb6","\u4e2d\u6587\u5b57\u5e55","\u4e2d\u6587","\u7121\u78bc","\u81ea\u62cd"].includes(b||"")&&(0,n.jsx)("p",{className:"absolute top-0 left-0 m-1 rounded-full bg-black text-secondary text-xxs p-0.5 w-8 h-8 flex items-center justify-center",children:"HD"}),(0,n.jsx)("p",{className:"absolute top-0 right-0 m-1 bg-backgroundTrans rounded text-primary-active text-xxs p-0.5",children:x||"00:00:00"})]}),(0,n.jsx)("div",{className:"text-left mt-1 text-sm flex-shrink-0 line-clamp-1 break-all",children:d}),v&&(0,n.jsx)("div",{className:"text-left mt-1 text-xs flex-shrink-0 line-clamp-1 h-5 text-red-400",children:v})]});return h?(0,n.jsx)(s.N_,{className:"h-full w-full flex flex-col justify-start",to:`/app/Video?uuid=${c}&cate=${b}&mode=${j}`,children:E}):(0,n.jsx)("div",{className:"h-full w-full flex flex-col justify-between",children:E})}},6837:(e,t,l)=>{l.d(t,{A:()=>c});var a=l(4117),s=l(467),r=l(5043),i=l(3003),o=l(6222),n=l(579);const c=(0,r.forwardRef)(((e,t)=>{let{title:l,data:c,onReachBottom:d,isLinkEnabled:u,toggleSelectItem:m,selectItems:x,cate:v,currentPage:h,endPage:p,isSearch:g=!1,lastPage:f=!1}=e;const{t:b}=(0,a.Bd)(),j=(0,i.d4)((e=>e.init.language)),N=(0,i.d4)((e=>e.init.init)),[w,y]=(0,r.useState)(!1),k=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(!k.current)return;const e=new IntersectionObserver((e=>{e[0].isIntersecting&&(y(!0),d&&d())}),{root:null,threshold:.5});return e.observe(k.current),f&&e.unobserve(k.current),()=>{k.current&&e.unobserve(k.current)}}),[d,f]),c&&0!==c.length?(0,n.jsxs)("div",{id:"videoMapContainer",className:"video-map-container ",ref:t,children:[(0,n.jsx)("div",{className:"flex flex-wrap px-2 pb-2",children:null===c||void 0===c?void 0:c.map(((e,t)=>{var l;return(0,n.jsx)("div",{className:"w-full p-2",children:(0,n.jsx)(s.A,{id:e._id,uuid:e.uuid,imageUrl:`${null===N||void 0===N?void 0:N.img_host}/preview/80/b/${e.uuid}-800.jpg`,title:(0,o.iz)(e,j),preview:`https://tdtest84-ag.qcpro.vip/subpage/getMvPreview.php?uuid=${e.uuid}&v=1722229802`,duration:(0,o.WV)(e.time),actor:e.actor,isLinkEnabled:u,selectItems:x,toggleSelectItem:m,cate:null!==(l=(0,o.p7)(e))&&void 0!==l?l:"",mode:"map"})},t)}))}),(0,n.jsx)("div",{ref:k,className:"observer-target h-8"})]}):null}))},7054:(e,t,l)=>{l.d(t,{A:()=>c});var a=l(5043),s=l(1119),r=l(4511),i=l(579);const o=e=>{let{data:t}=e;const[l,o]=(0,a.useState)(t[0].value);return(0,i.jsx)(s.A,{value:l,exclusive:!0,onChange:(e,t)=>{null!==t&&o(t)},"aria-label":"text alignment",sx:{display:"flex",justifyContent:"space-between",width:"6rem"},children:t.map(((e,t)=>(0,i.jsx)(r.A,{value:e.value,sx:{color:"white !important",padding:"1px",width:"2.5rem",borderBottom:l===e.value?"2px solid red":"none"},children:e.label},t)))})};var n=l(7003);const c=e=>{let{title:t,toggleButtons:l,videoCount:a,filterComponent:s,loadMore:r}=e;return(0,i.jsxs)("div",{className:"flex px-4 items-end justify-start w-full",children:[(0,i.jsx)("h2",{className:"text-xl font-bold whitespace-nowrap py-1",children:t}),l&&(0,i.jsx)(o,{data:l}),s&&s,r&&(0,i.jsx)(n.A,{onLoadMore:r})]})}},442:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var a=l(5043),s=l(392),r=l(4117),i=l(3216),o=l(6448),n=l(6837),c=l(1117),d=l(7054),u=l(3003),m=l(4477),x=l(9317),v=l(6691),h=l(3664),p=l(579);const g=function(){const e=(0,u.wA)(),{t:t}=(0,r.Bd)(),l=(0,i.zy)(),{kw:g,cate:f}=l.state||{kw:"",cate:""},b=(0,u.d4)((e=>e.video.searchComicData)),j=(0,u.d4)((e=>e.video.searchVideoData)),N=(0,u.d4)((e=>e.video.searchHot)),w=(0,u.d4)((e=>e.video.searchCate)),y=(0,u.d4)((e=>e.video.searchkw)),k=(0,u.d4)((e=>e.comic.comicListData)),A=(0,u.d4)((e=>{var t;return null===(t=e.video.videoList)||void 0===t?void 0:t["\u65e5\u672c"]})),[C,E]=(0,a.useState)(!0),[S,I]=(0,a.useState)(""),[P,$]=(0,a.useState)([]),[_,T]=(0,a.useState)([]),[z,R]=(0,a.useState)([]),[B,L]=(0,a.useState)([]),[O,D]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{b&&1===Number(b.pageNum)&&(L([]),L(b.products)),b&&1!==Number(b.pageNum)&&L((e=>[...e,...b.products])),k&&1===Number(k.pageNum)&&(T([]),T(k.products)),k&&1!==Number(k.pageNum)&&T((e=>[...e,...k.products])),A&&1===Number(A.pageNum)&&($([]),$(A.products)),A&&1!==Number(A.pageNum)&&$((e=>[...e,...A.products])),j&&1===Number(j.pageNum)&&(R([]),R(j.products)),j&&0!==Number(j.productTotal)&&1!==Number(j.pageNum)&&R((e=>[...e,...j.products]))}),[A,j,k,b]),(0,a.useEffect)((()=>{e((0,m.Ge)("")),e((0,m.lw)(g)),e((0,v.gh)("")),e((0,m.OV)()),e((0,m.mt)({name:"\u65e5\u672c",url:"?cat=jp",type:"mv"}))}),[e]),(0,a.useEffect)((()=>{I(C?"":"\u731c\u4f60\u559c\u6b61")}),[C]),(0,a.useEffect)((()=>{"amine"===w&&b&&0!==b.productTotal||"amine"!==w&&j&&0!==j.productTotal?E(!0):E(!1)}),[j,b]),(0,a.useEffect)((()=>{R([]),e((0,m.lw)("")),e((0,m.uU)(null)),e((0,m.wY)(null))}),[w]),(0,a.useEffect)((()=>{console.log(g),console.log(f),""===g&&""===f||(console.log("kw:",g),console.log("cate:",f),e((0,m.lw)(g)),e((0,m.Ge)(f)),e((0,m.$P)({kw:g,cat:null!==f&&void 0!==f?f:""})))}),[g,f]),(0,a.useEffect)((()=>{setTimeout((()=>{window.scrollTo(0,1),window.scrollTo(0,0)}),100),setTimeout((()=>{D(!1)}),500)}),[]),(0,p.jsx)("div",{children:O?(0,p.jsx)(h.A,{}):(0,p.jsxs)("div",{children:[(0,p.jsx)(s.A,{type:"search",home:!0}),!C&&(0,p.jsxs)("div",{style:{marginTop:"8%"},children:[("amine"!==w&&j||"amine"===w&&b)&&(0,p.jsxs)("div",{className:"p-4  text-center",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:t("\u6c92\u6709\u627e\u5230\u5546\u54c1")}),(0,p.jsx)("p",{children:t("\u8a66\u8a66\u641c\u5c0b\u4e0d\u540c\u95dc\u9375\u5b57")})]}),(0,p.jsx)("div",{className:"flex px-4 items-end justify-between",children:(0,p.jsx)("h2",{className:"text-xl font-bold",children:t("\u71b1\u9580\u95dc\u9375\u5b57")})}),(0,p.jsx)("div",{className:"px-4 py-2 flex flex-wrap gap-y-2 gap-x-4",children:null===N||void 0===N?void 0:N.map((l=>(0,p.jsx)(o.A,{className:"button rounded-full active",onClick:()=>{return t=l.sh_name,e((0,m.lw)(t)),void e((0,m.$P)({kw:t,cat:null!==w&&void 0!==w?w:""}));var t},children:t(l.sh_name)},l.sh_comic)))}),(0,p.jsx)(d.A,{title:t(S)}),"amine"===w?(0,p.jsx)(x.A,{data:_||[],onReachBottom:()=>{k&&e((0,v.gh)({url:`num=${Number(k.pageNum)+1}`}))},lastPage:Number(null===k||void 0===k?void 0:k.pageNum)===Number(null===k||void 0===k?void 0:k.pageTotals)}):(0,p.jsx)(n.A,{data:P||[],onReachBottom:()=>{e((0,m.mt)({name:"\u65e5\u672c",url:"?cat=jp",type:"mv",num:Number(null===A||void 0===A?void 0:A.pageNum)+1}))},lastPage:Number(null===A||void 0===A?void 0:A.pageNum)===Number(null===A||void 0===A?void 0:A.pageTotals)})]}),"amine"===w?(0,p.jsx)(x.A,{title:t(`${S}`),data:B||[],onReachBottom:()=>{y&&e((0,m.$P)({kw:y,cat:"amine",num:Number(null===b||void 0===b?void 0:b.pageNum)+1}))},lastPage:Number(null===b||void 0===b?void 0:b.pageNum)===Number(null===b||void 0===b?void 0:b.pageTotals)}):(0,p.jsx)(n.A,{title:t(`${S}`),data:z||[],onReachBottom:()=>{y&&e((0,m.$P)({kw:y,cat:null!==w&&void 0!==w?w:"",num:Number(null===j||void 0===j?void 0:j.pageNum)+1}))},lastPage:Number(null===j||void 0===j?void 0:j.pageNum)===Number(null===j||void 0===j?void 0:j.pageTotals),isSearch:!0}),(0,p.jsx)(c.A,{})]})})}},497:(e,t,l)=>{e.exports=l.p+"static/media/qc-default-img.e8a429dee9583eb8591b.jpg"}}]);
//# sourceMappingURL=442.9e092e99.chunk.js.map