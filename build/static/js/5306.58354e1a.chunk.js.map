{"version":3,"file":"static/js/5306.58354e1a.chunk.js","mappings":"oKAUA,MAmEA,EAnE2CA,IAAwB,IAAvB,KAAEC,EAAI,QAAEC,GAASF,EAC3D,MAAMG,GAAWC,EAAAA,EAAAA,MAkBjB,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,CAACC,YAAY,EAAMC,UAAU,EAAMC,SACzCC,MAAMC,QAAQV,KAAa,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMW,KAAI,CAACC,EAAMC,KAErCT,EAAAA,EAAAA,KAACC,EAAAA,EAASS,KAAI,CACZC,QAASA,OACTC,MAAO,CACLC,OAAQ,UACRC,MAAO,OACPC,UAAW,QACXX,SAGDI,EAAKQ,SAASC,MAAM,uBACnBjB,EAAAA,EAAAA,KAAA,SACEkB,UAAU,wBACVC,IAAK,iFACLC,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJV,MAAO,CAAEW,UAAW,SACpBC,QAAUC,IACR,MAAMC,EAASD,EAAEE,cACjBD,EAAOE,QAAU,KACjBF,EAAOP,IAAM,8GAA8G,EAC3Hf,SACH,kDAIDJ,EAAAA,EAAAA,KAAA,OAAKW,QAASA,IA9CFkB,KACtB,MAAMC,GAASC,EAAAA,EAAAA,IAAeF,GAM9B,GALsB,kBAAXC,IACTE,QAAQC,IAAI,UAAiB,OAANH,QAAM,IAANA,OAAM,EAANA,EAAQI,OAC/BF,QAAQC,IAAI,UAAiB,OAANH,QAAM,IAANA,OAAM,EAANA,EAAQK,QAGlB,OAAXL,GAAqC,kBAAXA,EAC5BhC,EAAe,OAANgC,QAAM,IAANA,OAAM,EAANA,EAAQI,MAAO,CAACC,MAAa,OAANL,QAAM,IAANA,OAAM,EAANA,EAAQK,YACnC,CACL,MAAMC,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAOT,EACTM,EAAEV,OAAS,SACXU,EAAEI,OACJ,GAgC8BC,CAAmB,OAAJjC,QAAI,IAAJA,OAAI,EAAJA,EAAMQ,UAAUZ,UACjDJ,EAAAA,EAAAA,KAAA,OACEkB,UAAU,uCACVC,IAAK,GAAGtB,IAAc,OAAJW,QAAI,IAAJA,OAAI,EAAJA,EAAMkC,UACxBC,KAAS,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,gBAAiB,QAC5BpB,QAAUC,IACRA,EAAEE,cAAcC,QAAU,KAC1BH,EAAEE,cAAcR,IAAM,EAAE,OA1B3BV,OAkCF,C,kNC3Cf,MAAMoC,EAAsClD,IAAuB,IAAtB,KAAEmD,EAAI,OAAEC,GAAQpD,EAC3D,MAAM,EAAEqD,IAAMC,EAAAA,EAAAA,MACRC,GAAOC,EAAAA,EAAAA,KAAahB,GAAqBA,EAAMe,KAAKE,WACpDC,GAAwBC,EAAAA,EAAAA,OACvBC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAiB,IAiDnD,OA/CAC,EAAAA,EAAAA,YAAU,KAIRL,GAASM,EAAAA,EAAAA,IAHM,CACbC,IAAK,MAEoB,GAC1B,CAACP,KAEJK,EAAAA,EAAAA,YAAU,KACR,GAAQ,OAAJR,QAAI,IAAJA,GAAAA,EAAMW,MAAO,CACf,MAWMC,EAXSZ,EAAKW,MAAME,QAAQjB,MAAK,CAACV,EAAG4B,KACzC,OAAQlB,GACN,IAAK,eACH,OAAOV,EAAE6B,GAAKD,EAAEC,GAClB,IAAK,eACH,OAAOD,EAAEC,GAAK7B,EAAE6B,GAClB,QACE,OAAO,EACX,IAGsBC,QAAQ1D,GACf,KAAXuC,GACKvC,EAAK2D,KAAKC,SAASrB,KAK9BS,EAAaM,EACf,IACC,CAAK,OAAJZ,QAAI,IAAJA,OAAI,EAAJA,EAAMW,MAAOf,EAAMC,KAEvBW,EAAAA,EAAAA,YAAU,KACR,GAAQ,OAAJR,QAAI,IAAJA,GAAAA,EAAMW,MAAO,CACf,MAAMQ,EAASnB,EAAKW,MAAME,QAAQjB,MAAK,CAACV,EAAG4B,KACzC,OAAQlB,GACN,IAAK,eACH,OAAOV,EAAE6B,GAAKD,EAAEC,GAClB,IAAK,eACH,OAAOD,EAAEC,GAAK7B,EAAE6B,GAClB,QACE,OAAO,EACX,IAEFT,EAAaa,EACf,IACC,CAAK,OAAJnB,QAAI,IAAJA,OAAI,EAAJA,EAAMW,MAAOf,KAGf9C,EAAAA,EAAAA,KAAA,OAAKkB,UAAU,mCAAkCd,SAC9CmD,GACCA,EAAUhD,KAAI,CAACC,EAAM8D,KACnBC,EAAAA,EAAAA,MAAA,KAEEhC,KAAM/B,EAAKgE,KACX9C,OAAO,SACP+C,IAAI,sBACJvD,UAAU,QAAOd,SAAA,EAEjBJ,EAAAA,EAAAA,KAAA,OAAKkB,UAAU,yBAAwBd,UACrCJ,EAAAA,EAAAA,KAAA,OACEmB,IAAKX,EAAKkE,MACV/B,IAAKnC,EAAK2D,KACVjD,UAAU,kCAGdqD,EAAAA,EAAAA,MAAA,OAAKrD,UAAU,MAAKd,SAAA,EAClBJ,EAAAA,EAAAA,KAAA,KAAGkB,UAAU,4CAA2Cd,SACrD4C,EAAExC,EAAK2D,SAEVnE,EAAAA,EAAAA,KAAA,KAAGkB,UAAU,qCAAoCd,SAC9C4C,EAAE,yBAAgB,CAAE2B,MAAOnE,EAAKoE,QAEnC5E,EAAAA,EAAAA,KAAA,KAAGkB,UAAU,6BAA4Bd,SACtC4C,EAAE,yBAAgB,CAAE2B,MAAOnE,EAAKyD,YArBhCK,MA0BP,EAmOV,EA/NuBO,KAAO,IAADC,EAAAC,EAAAC,EAC3B,MAAM,EAAEhC,IAAMC,EAAAA,EAAAA,MACRnD,GAAWC,EAAAA,EAAAA,MACXkF,GAAeC,EAAAA,EAAAA,QAAmC,IAClD7B,GAAwBC,EAAAA,EAAAA,OACvB6B,EAAYC,IAAiB3B,EAAAA,EAAAA,UAAiB,KAC9C4B,EAAYC,IAAiB7B,EAAAA,EAAAA,UAAiB,KAC9C8B,EAAaC,IAAkB/B,EAAAA,EAAAA,UAAiB,IAChDgC,EAAWC,IAAgBjC,EAAAA,EAAAA,UAA8B,OACzDkC,EAAOC,IAAYnC,EAAAA,EAAAA,UAAS,GAE7BoC,GAAM1C,EAAAA,EAAAA,KAAahB,GAAqBA,EAAM0D,IAAIC,SAClDC,GAAO5C,EAAAA,EAAAA,KAAahB,GAAqBA,EAAM4D,KAAKA,OACpD7C,GAAOC,EAAAA,EAAAA,KAAahB,GAAqBA,EAAMe,KAAKE,WACpD4C,GAAW7C,EAAAA,EAAAA,KAAahB,GAAqBA,EAAM6D,SAASA,WAC5DC,GAAW9C,EAAAA,EAAAA,KAAahB,GAAqBA,EAAM4D,KAAKE,WAExDC,EAAelD,EAAE,gBACjBmD,EACmD,QADlCrB,EACb,OAARkB,QAAQ,IAARA,OAAQ,EAARA,EAAUI,WAAWC,GAAQA,EAAIlC,OAAS+B,WAAa,IAAApB,EAAAA,EAAI,GACtDwB,EAAeC,IAAoB9C,EAAAA,EAAAA,UAAS0C,IAEnDhD,EAAAA,EAAAA,KAAahB,GAAqBA,EAAM4D,KAAKA,OAqE7C,OAnDArC,EAAAA,EAAAA,YAAU,KAAO,IAAD8C,EACdZ,EAAS,GACT,MAAMtB,EAA+D,QAA1DkC,EAAW,OAARR,QAAQ,IAARA,OAAQ,EAARA,EAAUI,WAAWC,GAAQA,EAAIlC,OAAS+B,WAAa,IAAAM,EAAAA,EAAI,EACzED,EAAiBjC,EAAM,GACtB,CAAC4B,EAAcN,KAElBlC,EAAAA,EAAAA,YAAU,KACR,GAAIsC,EAAU,CACZ,MAAMS,EAAmBT,EAASM,GAClCZ,EAAae,GAEb,MAAMC,EAAgBzB,EAAa0B,QAAQL,GAC3C,GAAII,EAAe,CACjB,MAAME,EAAYvE,SAASwE,cAAc,qBACnCC,EACJJ,EAAcK,aACJ,OAATH,QAAS,IAATA,OAAS,EAATA,EAAWI,cAAe,GAAK,EAChCN,EAAcM,YAAc,EACrB,OAATJ,QAAS,IAATA,GAAAA,EAAWK,SAAS,CAAEC,KAAMJ,GAC9B,CACF,IACC,CAACR,EAAeN,KAEnBtC,EAAAA,EAAAA,YAAU,KACJ+B,IAIqB,iBAAnBA,EAAUtB,MAAiBsB,EAAUtB,OAASnB,EAAE,gBAClDlD,EAAS,aACmB,iBAAnB2F,EAAUtB,MAAiBsB,EAAUtB,OAASnB,EAAE,gBACzDlD,EAAS,aACmB,iBAAnB2F,EAAUtB,MAAiBsB,EAAUtB,OAASnB,EAAE,iBACzDK,GAAS8D,EAAAA,EAAAA,IAAe,KACxBrH,EAAS,OAAQ,CAAEqC,MAAO,CAAE+D,aAAcT,EAAUtB,SACxB,iBAAnBsB,EAAUtB,MAAiBsB,EAAUtB,OAASnB,EAAE,iBACzDK,GAAS+D,EAAAA,EAAAA,IAAc,CAAC,IACxBtH,EAAS,OAAQ,CAAEqC,MAAO,CAAE+D,aAAcT,EAAUtB,UAEpDd,GACEgE,EAAAA,EAAAA,IAAe,CACblD,KAAMsB,EAAUtB,KAChBmD,IAAK7B,EAAU6B,IACfC,KAAM9B,EAAU8B,QAGpBzH,EAAS,OAAQ,CAAEqC,MAAO,CAAE+D,aAAcT,EAAUtB,SAExD,GACC,CAACsB,EAAWpC,KAGbkB,EAAAA,EAAAA,MAAA,OAAKrD,UAAU,QAAOd,SAAA,EACpBJ,EAAAA,EAAAA,KAAA,OAAKkB,UAAU,yEAAwEd,SAC5E,OAAR4F,QAAQ,IAARA,OAAQ,EAARA,EAAUzF,KAAI,CAACiH,EAAmBlD,IAET,iBAAtBkD,EAAarD,MACS,iBAAtBqD,EAAarD,MACbqD,EAAarD,OAASnB,EAAE,iBACxBwE,EAAarD,OAASnB,EAAE,gBAGZ,IAAVsB,IACEtE,EAAAA,EAAAA,KAAA,KACEuC,KAAMiF,EAAaF,IACnB5F,OAAO,SAEP+F,IAAMC,GAAQzC,EAAa0B,QAAQrC,GAASoD,EAC5C/G,QAASA,IAAM4F,EAAiBjC,GAChCpD,UAAWoD,IAAUgC,EAAgB,IAAGqB,EAAAA,EAAAA,IAAa1B,kBAA2B,IAAG0B,EAAAA,EAAAA,IAAa1B,KAChGxB,IAAI,aAAYrE,SAEfoH,EAAa,QAAQvB,MANjB3B,GAYD,IAAVA,IACEtE,EAAAA,EAAAA,KAAA,QAEEyH,IAAMC,GAAQzC,EAAa0B,QAAQrC,GAASoD,EAC5C/G,QAASA,IAAM4F,EAAiBjC,GAChCpD,UAAYoD,IAAUgC,EAAgB,IAAGqB,EAAAA,EAAAA,IAAa1B,kBAA2B,IAAG0B,EAAAA,EAAAA,IAAa1B,KAAY7F,SAE5GoH,EAAa,QAAQvB,MALjB3B,QAYftE,EAAAA,EAAAA,KAAC4H,EAAAA,EAAS,CAAChI,MAAa,QAAPmF,EAAAc,EAAI,WAAG,IAAAd,OAAA,EAAPA,EAASnF,OAAQ,GAAIC,QAAuB,QAAhBmF,EAAM,OAAJe,QAAI,IAAJA,OAAI,EAAJA,EAAM8B,gBAAQ,IAAA7C,EAAAA,EAAI,MACjEhF,EAAAA,EAAAA,KAAA,OAAKkB,UAAU,yEAAwEd,SACpF8C,GACC4E,OAAOC,QAAY,OAAJ7E,QAAI,IAAJA,OAAI,EAAJA,EAAM8E,YAAYzH,KAAI,CAAA0H,EAAe3D,KAAK,IAAlB4D,EAAKvC,GAAMsC,EAAA,OAChDjI,EAAAA,EAAAA,KAACmI,EAAAA,GAAI,CAEHC,GAAI,YACJzH,QAASA,IA3GE0H,EAACzE,EAAaU,KACnC,MAAMgE,EAAS,CACb1E,IAAKA,GAEPP,GAASM,EAAAA,EAAAA,IAAU2E,IACnB9C,EAAelB,EAAM,EAsGI+D,CAAeE,OAAOL,GAAM5D,GAC3CpD,UAAW,6BACTqE,IAAgBjB,EACZ,4BACA,iBACHlE,SAEF4C,EAAE2C,EAAMxB,OATJG,EAUA,OAGbtE,EAAAA,EAAAA,KAAA,OAAKkB,UAAU,WAAUd,UACvBmE,EAAAA,EAAAA,MAACiE,EAAAA,EAAG,CACFC,GAAI,CACFC,QAAS,OACTC,IAAK,EACLC,WAAY,SACZC,eAAgB,gBAChB/H,MAAO,QACPV,SAAA,EAEFJ,EAAAA,EAAAA,KAAC8I,EAAAA,EAAS,CACRC,GAAG,iBACHpD,MAAOR,EACP6D,SA3IkBvH,IAC1B2D,EAAc3D,EAAEC,OAAOiE,MAAM,EA2IrBsD,YAAajG,EAAE,6BAAW,GAC1BkG,QAAQ,WACRC,KAAK,QACLV,GAAI,CACF3H,MAAO,OACPsI,SAAU,QACVC,gBAAiB,OACjBC,aAAc,MACd,wBAAyB,CACvBC,MAAO,YAKbvJ,EAAAA,EAAAA,KAACwJ,EAAAA,EAAW,CACVf,GAAI,CAAEgB,SAAU,IAAKH,aAAc,MAAOI,QAAS,QACnDP,KAAK,QAAO/I,UAEZmE,EAAAA,EAAAA,MAACoF,EAAAA,EAAM,CACLhE,MAAON,EACP2D,SA5JcvH,IACxB6D,EAAc7D,EAAEC,OAAOiE,MAAM,EA4JnBiE,cAAY,EACZC,WAAY,CAAE,aAAc,iBAC5BC,UAAW,CACTC,WAAY,CACVtB,GAAI,CACFiB,QAAS,OACTH,MAAO,WAIbd,GAAI,CACFc,MAAO,OACP,oBAAqB,CACnBA,MAAO,SAETnJ,SAAA,EAEFJ,EAAAA,EAAAA,KAACgK,EAAAA,EAAQ,CAACrE,MAAM,GAAGsE,UAAQ,EAACxB,GAAI,CAAEc,MAAO,SAAUnJ,SAChD4C,EAAE,qCAELhD,EAAAA,EAAAA,KAACgK,EAAAA,EAAQ,CAACrE,MAAM,SAAS8C,GAAI,CAAEc,MAAO,SAAUnJ,SAC7C4C,EAAE,+BAELhD,EAAAA,EAAAA,KAACgK,EAAAA,EAAQ,CAACrE,MAAM,eAAe8C,GAAI,CAAEc,MAAO,SAAUnJ,SACnD4C,EAAE,uCAELhD,EAAAA,EAAAA,KAACgK,EAAAA,EAAQ,CAACrE,MAAM,eAAe8C,GAAI,CAAEc,MAAO,SAAUnJ,SACnD4C,EAAE,iDAMbhD,EAAAA,EAAAA,KAAC6C,EAAS,CAACC,KAAMuC,EAAYtC,OAAQoC,MACjC,C","sources":["components/Carousels/index.tsx","pages/Shop/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport  Carousel from \"react-bootstrap/Carousel\";\nimport \"./index.scss\"; // 引入自定義的 SCSS 文件\nimport { AdData } from '../../type/adsType';\nimport { bannerNavigate } from '../../utils/helper';\nimport { useNavigate } from 'react-router-dom';\ninterface CarouselProps {\n  data: AdData[] | null;\n  imgHost: string;\n};\nconst Carousels: React.FC<CarouselProps> = ({ data, imgHost }) => {\n  const navigate = useNavigate();\n\n  const handleImgClick = (link: string) => {\n    const result = bannerNavigate(link);\n    if (typeof result === \"object\") {\n      console.log(\"route: \", result?.route);\n      console.log(\"state: \", result?.state);\n    }  \n  \n    if (result !== null && typeof result === 'object') {\n      navigate(result?.route, {state: result?.state });\n    } else {\n      const a = document.createElement('a');\n      a.href = result;\n      a.target = '_blank'; // 或同分頁就是 '_self'\n      a.click();\n    }\n  }\n  return (\n    <Carousel indicators={true} controls={false}>\n      {Array.isArray(data) && data?.map((item, i) => {\n        return (\n          <Carousel.Item \n            onClick={() => {}}\n            style={{\n              cursor: \"pointer\",\n              width: \"100%\",\n              maxHeight: \"auto\", // 可根據比例調整 \n            }}\n            key={i}\n          >\n            {item.link_url.match(/\\.(mp4|webm|ogg)$/i) ? (\n              <video\n                className=\"d-block w-full h-full\"\n                src={'https://tdtest84-ag.qcpro.vip/reseller/images/banner/20230223_QC_300100_CN.gif'}\n                autoPlay\n                muted\n                loop\n                style={{ objectFit: \"cover\" }} // 讓影片適應容器\n                onError={(e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n                  const target = e.currentTarget;\n                  target.onerror = null; // Prevents infinite loop in case fallback also fails\n                  target.src = \"https://player.vimeo.com/external/374265480.hd.mp4?s=2753a67069f7a1b9e191772da00c55042b805a3b&profile_id=175\"; // Fallback video URL\n                }}\n              >\n                Your browser does not support the video tag.\n              </video>\n            ) : (\n              <div onClick={() => handleImgClick(item?.link_url)}>\n                <img\n                  className=\"d-block w-full h-full object-contain\"\n                  src={`${imgHost}${item?.img_url}`}\n                  alt={item?.b_description || \"Image\"}\n                  onError={(e) => {\n                    e.currentTarget.onerror = null;\n                    e.currentTarget.src = '';\n                  }}\n                />\n              </div>\n            )}\n          </Carousel.Item>\n        );\n      })}\n    </Carousel>\n  );\n}\nexport default Carousels;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport BasicTabs from \"../../components/BasicTabs\";\nimport Button from \"../../components/Button\";\nimport VideoMap from \"../../components/Video/VideoMap\";\nimport Carousels from \"../../components/Carousels\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  TextField,\n  MenuItem,\n  Select,\n  InputLabel,\n  FormControl,\n  SelectChangeEvent,\n} from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../../store\";\nimport { fetchShop, setShopData } from \"../../store/shopSlice\";\nimport { config } from \"@fortawesome/fontawesome-svg-core\";\nimport { Team, Teams } from \"../../type/shopType\";\nimport { CategoryData } from \"../../type/categoryType\";\nimport { fetchComicList } from \"../../store/comicSlice\";\nimport { fetchVideoList, getActorsList } from \"../../store/videoSlice\";\nimport { getFontClass } from \"../../utils/helper\";\n\ninterface ShopItemsParam {\n  sort: string;\n  search: string;\n}\n\nconst ShopItems: React.FC<ShopItemsParam> = ({ sort, search }) => {\n  const { t } = useTranslation();\n  const shop = useSelector((state: RootState) => state.shop.shopData);\n  const dispatch: AppDispatch = useDispatch();\n  const [sortItems, setSortItems] = useState<Team[]>([]);\n\n  useEffect(() => {\n    const config = {\n      gid: 395,\n    };\n    dispatch(fetchShop(config));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (shop?.teams) {\n      const sorted = shop.teams.slice().sort((a, b) => {\n        switch (sort) {\n          case \"priceLowHigh\": // 價位升序\n            return a.tp - b.tp;\n          case \"priceHighLow\": // 價位降序\n            return b.tp - a.tp;\n          default:\n            return 0; // 不排序\n        }\n      });\n\n      const filtered = sorted.filter((item) => {\n        if (search !== \"\") {\n          return item.name.includes(search);\n        } else {\n          return true;\n        }\n      });\n      setSortItems(filtered); // 更新排序後的狀態\n    }\n  }, [shop?.teams, sort, search]);\n\n  useEffect(() => {\n    if (shop?.teams) {\n      const sorted = shop.teams.slice().sort((a, b) => {\n        switch (sort) {\n          case \"priceLowHigh\": // 價位升序\n            return a.tp - b.tp;\n          case \"priceHighLow\": // 價位降序\n            return b.tp - a.tp;\n          default:\n            return 0; // 不排序\n        }\n      });\n      setSortItems(sorted); // 更新排序後的狀態\n    }\n  }, [shop?.teams, sort]);\n\n  return (\n    <div className=\"grid grid-cols-2 gap-4 px-4 py-4\">\n      {sortItems &&\n        sortItems.map((item, index) => (\n          <a\n            key={index}\n            href={item.turl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"block\"\n          >\n            <div className=\"relative aspect-square\">\n              <img\n                src={item.image}\n                alt={item.name}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <div className=\"p-2\">\n              <p className=\"text-white text-sm font-bold line-clamp-2\">\n                {t(item.name)}\n              </p>\n              <p className=\"text-gray-500 line-through text-xs\">\n                {t(\"原價 {{price}}\", { price: item.mp })}\n              </p>\n              <p className=\"text-red-500 font-semibold\">\n                {t(\"特價 {{price}}\", { price: item.tp })}\n              </p>\n            </div>\n          </a>\n        ))}\n    </div>\n  );\n};\n\nconst Shop: React.FC = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const categoryRefs = useRef<(HTMLSpanElement | null)[]>([]);\n  const dispatch: AppDispatch = useDispatch();\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n  const [sortOption, setSortOption] = useState<string>(\"\");\n  const [activeIndex, setActiveIndex] = useState<number>(0);\n  const [catConfig, setCatConfig] = useState<CategoryData | null>(null);\n  const [value, setValue] = useState(0);\n\n  const ads = useSelector((state: RootState) => state.ads.adData);\n  const init = useSelector((state: RootState) => state.init.init);\n  const shop = useSelector((state: RootState) => state.shop.shopData);\n  const category = useSelector((state: RootState) => state.category.category);\n  const language = useSelector((state: RootState) => state.init.language);\n\n  const categoryName = t(\"情趣\");\n  const gameCategoryIndex =\n    category?.findIndex((obj) => obj.name === categoryName) ?? 0;\n  const [selectedIndex, setSelectedIndex] = useState(gameCategoryIndex);\n\n  useSelector((state: RootState) => state.init.init);\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSortChange = (e: SelectChangeEvent<string>) => {\n    setSortOption(e.target.value);\n  };\n\n  const handleTabClick = (gid: number, index: number) => {\n    const config = {\n      gid: gid,\n    };\n    dispatch(fetchShop(config));\n    setActiveIndex(index);\n  };\n\n  useEffect(() => {\n    setValue(0);\n    const index = category?.findIndex((obj) => obj.name === categoryName) ?? 0;\n    setSelectedIndex(index);\n  }, [categoryName, setValue]);\n\n  useEffect(() => {\n    if (category) {\n      const selectedCategory = category[selectedIndex];\n      setCatConfig(selectedCategory);\n\n      const targetElement = categoryRefs.current[selectedIndex];\n      if (targetElement) {\n        const container = document.querySelector(\".hidden-scrollbar\");\n        const targetPosition =\n          targetElement.offsetLeft -\n          (container?.clientWidth || 0) / 2 +\n          targetElement.clientWidth / 2;\n        container?.scrollTo({ left: targetPosition });\n      }\n    }\n  }, [selectedIndex, category]);\n\n  useEffect(() => {\n    if (catConfig) {\n      // if (catConfig.name === \"視訊\") {\n      //   window.open(catConfig.url, \"_blank\");\n      // } else\n      if (catConfig.name === \"遊戲\" || catConfig.name === t(\"遊戲\")) {\n        navigate(\"/app/game\");\n      } else if (catConfig.name === \"情趣\" || catConfig.name === t(\"情趣\")) {\n        navigate(\"/app/shop\");\n      } else if (catConfig.name === \"漫畫\" || catConfig.name === t(\"漫畫\")) {\n        dispatch(fetchComicList(\"\"));\n        navigate(\"/app\", { state: { categoryName: catConfig.name } });\n      } else if (catConfig.name === \"女優\" || catConfig.name === t(\"女優\")) {\n        dispatch(getActorsList({}));\n        navigate(\"/app\", { state: { categoryName: catConfig.name } });\n      } else {\n        dispatch(\n          fetchVideoList({\n            name: catConfig.name,\n            url: catConfig.url,\n            type: catConfig.type,\n          })\n        );\n        navigate(\"/app\", { state: { categoryName: catConfig.name } });\n      }\n    }\n  }, [catConfig, dispatch]);\n\n  return (\n    <div className=\"pb-16\">\n      <div className=\"hidden-scrollbar px-4 py-2 space-x-6 overflow-x-auto whitespace-nowrap\">\n        {category?.map((categoryData: any, index) => {\n          if (\n            categoryData.name === \"視訊\" ||\n            categoryData.name === \"活動\" ||\n            categoryData.name === t(\"視訊\") ||\n            categoryData.name === t(\"活動\")\n          ) {\n            return (\n              index !== 0 && (\n                <a\n                  href={categoryData.url}\n                  target=\"_blank\"\n                  key={index}\n                  ref={(el) => (categoryRefs.current[index] = el)}\n                  onClick={() => setSelectedIndex(index)}\n                  className={index === selectedIndex ? `${getFontClass(language)} text-red-500` : `${getFontClass(language)}`}\n                  rel=\"noreferrer\"\n                >\n                  {categoryData[`name_${language}`]}\n                </a>\n              )\n            );\n          }\n          return (\n            index !== 0 && (\n              <span\n                key={index}\n                ref={(el) => (categoryRefs.current[index] = el)}\n                onClick={() => setSelectedIndex(index)}\n                className={ index === selectedIndex ? `${getFontClass(language)} text-red-500` : `${getFontClass(language)}`}\n              >\n                {categoryData[`name_${language}`]}\n              </span>\n            )\n          );\n        })}\n      </div>\n\n      <Carousels data={ads[63]?.data || []} imgHost={init?.img_host ?? \"\"} />\n      <div className=\"hidden-scrollbar px-4 py-2 space-x-6 overflow-x-auto whitespace-nowrap\">\n        {shop &&\n          Object.entries(shop?.allow_gids).map(([key, value], index) => (\n            <Link\n              key={index}\n              to={`/app/shop`}\n              onClick={() => handleTabClick(Number(key), index)}\n              className={`text-white-500 px-2 py-1 ${\n                activeIndex === index\n                  ? \"border-b-2 border-red-500\"\n                  : \"text-gray-500\"\n              }`}\n            >\n              {t(value.name)}\n            </Link>\n          ))}\n      </div>\n      <div className=\"flex p-4\">\n        <Box\n          sx={{\n            display: \"flex\",\n            gap: 2,\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            width: \"100%\",\n          }}\n        >\n          <TextField\n            id=\"outlined-basic\"\n            value={searchTerm}\n            onChange={handleSearchChange}\n            placeholder={t(\"搜尋商品\") || \"\"}\n            variant=\"outlined\"\n            size=\"small\"\n            sx={{\n              width: \"100%\",\n              maxWidth: \"250px\",\n              backgroundColor: \"#666\",\n              borderRadius: \"4px\",\n              \"& .MuiInputBase-input\": {\n                color: \"#ccc\",\n              },\n            }}\n          />\n\n          <FormControl\n            sx={{ minWidth: 120, borderRadius: \"4px\", bgcolor: \"#666\" }}\n            size=\"small\"\n          >\n            <Select\n              value={sortOption}\n              onChange={handleSortChange}\n              displayEmpty\n              inputProps={{ \"aria-label\": \"Without label\" }}\n              MenuProps={{\n                PaperProps: {\n                  sx: {\n                    bgcolor: \"#333\",\n                    color: \"white\",\n                  },\n                },\n              }}\n              sx={{\n                color: \"#ccc\",\n                \"& .MuiSelect-icon\": {\n                  color: \"#ccc\",\n                },\n              }}\n            >\n              <MenuItem value=\"\" disabled sx={{ color: \"white\" }}>\n                {t(\"請選擇排序\")}\n              </MenuItem>\n              <MenuItem value=\"newest\" sx={{ color: \"white\" }}>\n                {t(\"最新商品\")}\n              </MenuItem>\n              <MenuItem value=\"priceLowHigh\" sx={{ color: \"white\" }}>\n                {t(\"價格: 低到高\")}\n              </MenuItem>\n              <MenuItem value=\"priceHighLow\" sx={{ color: \"white\" }}>\n                {t(\"價格: 高到低\")}\n              </MenuItem>\n            </Select>\n          </FormControl>\n        </Box>\n      </div>\n      <ShopItems sort={sortOption} search={searchTerm} />\n    </div>\n  );\n};\n\nexport default Shop;\n"],"names":["_ref","data","imgHost","navigate","useNavigate","_jsx","Carousel","indicators","controls","children","Array","isArray","map","item","i","Item","onClick","style","cursor","width","maxHeight","link_url","match","className","src","autoPlay","muted","loop","objectFit","onError","e","target","currentTarget","onerror","link","result","bannerNavigate","console","log","route","state","a","document","createElement","href","click","handleImgClick","img_url","alt","b_description","ShopItems","sort","search","t","useTranslation","shop","useSelector","shopData","dispatch","useDispatch","sortItems","setSortItems","useState","useEffect","fetchShop","gid","teams","filtered","slice","b","tp","filter","name","includes","sorted","index","_jsxs","turl","rel","image","price","mp","Shop","_category$findIndex","_ads$","_init$img_host","categoryRefs","useRef","searchTerm","setSearchTerm","sortOption","setSortOption","activeIndex","setActiveIndex","catConfig","setCatConfig","value","setValue","ads","adData","init","category","language","categoryName","gameCategoryIndex","findIndex","obj","selectedIndex","setSelectedIndex","_category$findIndex2","selectedCategory","targetElement","current","container","querySelector","targetPosition","offsetLeft","clientWidth","scrollTo","left","fetchComicList","getActorsList","fetchVideoList","url","type","categoryData","ref","el","getFontClass","Carousels","img_host","Object","entries","allow_gids","_ref2","key","Link","to","handleTabClick","config","Number","Box","sx","display","gap","alignItems","justifyContent","TextField","id","onChange","placeholder","variant","size","maxWidth","backgroundColor","borderRadius","color","FormControl","minWidth","bgcolor","Select","displayEmpty","inputProps","MenuProps","PaperProps","MenuItem","disabled"],"sourceRoot":""}