{"version":3,"file":"static/js/7514.3920c8f4.chunk.js","mappings":"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","sources":["components/AdBanner/index.tsx","components/Carousels/index.tsx","components/Video/VideoCard/index.tsx","components/Video/VideoMap/index.tsx","pages/ZoneList/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { AppDispatch, RootState } from \"../../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchAds } from \"../../store/adsSlice\";\nimport { bannerNavigate, getImage } from \"../../utils/helper\";\nimport { useNavigate } from \"react-router-dom\";\ninterface AdBannerProps {\n  styleProps?: React.CSSProperties;\n}\nconst AdBanner: React.FC<AdBannerProps> = ({ styleProps }) => {\n  const [isVisible, setIsVisible] = useState<boolean>(true);\n  const dispatch:AppDispatch = useDispatch();\n  const navigate = useNavigate();\n  const adData = useSelector((state: RootState) => state.ads.adData);\n  const init = useSelector((state: RootState) => state.init.init);\n  const handleClose = (): void => {\n    setIsVisible(false);\n  };\n\n  const handleImgClick = (link: string) => {\n    const result = bannerNavigate(link);\n    if (result !== null && typeof result === 'object') {\n      navigate(result?.route, {state: result?.state });\n    } else {\n      const a = document.createElement('a');\n      a.href = result;\n      a.target = '_blank'; // 或同分頁就是 '_self'\n      a.click();\n    }\n  }\n\n  useEffect(() => {\n    dispatch(fetchAds(64));\n  }, [dispatch]);\n\n  useEffect(() => {\n    console.log(\"adData: \", adData);\n    console.log(\"init: \", init);\n  }, [adData, init]);\n\n  if (!isVisible) return null;\n\n  return (\n    <>\n      {adData['64'] && Array.isArray(adData['64'].data) && (\n        <div\n          className=\"fixed bottom-0 left-0 right-0 bg-gray-100 shadow-lg mx-auto\"\n          style={{ maxWidth: \"100%\", width: \"100%\", height: \"12%\", ...styleProps}}\n          onClick={() => handleImgClick(adData['64']?.data[0]?.link_url)}\n        >\n          <div className=\"relative flex justify-center items-center max-w-full h-full\">\n            {/* Ad Image 728x90 */}\n            <img\n              className=\"d-block w-full h-full object-contain\"\n              src={`${init?.img_host}${adData['64']?.data[0]?.img_url}`}\n              alt={\"Image\"}\n              onError={(e) => {\n                e.currentTarget.onerror = null;\n                e.currentTarget.src = '';\n              }}\n            />\n            {/* Close Button */}\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                handleClose();\n              }}\n              className=\"absolute w-8 h-8 top-2 right-2 bg-transparent text-gray-700 hover:text-gray-900\"\n            >\n              <FontAwesomeIcon icon={faTimes} size=\"lg\" />\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AdBanner;\n","import React, { useEffect } from 'react';\nimport  Carousel from \"react-bootstrap/Carousel\";\nimport \"./index.scss\"; // 引入自定義的 SCSS 文件\nimport { AdData } from '../../type/adsType';\nimport { bannerNavigate } from '../../utils/helper';\nimport { useNavigate } from 'react-router-dom';\ninterface CarouselProps {\n  data: AdData[] | null;\n  imgHost: string;\n};\nconst Carousels: React.FC<CarouselProps> = ({ data, imgHost }) => {\n  const navigate = useNavigate();\n\n  const handleImgClick = (link: string) => {\n    const result = bannerNavigate(link);\n    if (typeof result === \"object\") {\n      console.log(\"route: \", result?.route);\n      console.log(\"state: \", result?.state);\n    }  \n  \n    if (result !== null && typeof result === 'object') {\n      navigate(result?.route, {state: result?.state });\n    } else {\n      const a = document.createElement('a');\n      a.href = result;\n      a.target = '_blank'; // 或同分頁就是 '_self'\n      a.click();\n    }\n  }\n  return (\n    <Carousel indicators={true} controls={false}>\n      {Array.isArray(data) && data?.map((item, i) => {\n        return (\n          <Carousel.Item \n            onClick={() => {}}\n            style={{\n              cursor: \"pointer\",\n              width: \"100%\",\n              maxHeight: \"auto\", // 可根據比例調整 \n            }}\n            key={i}\n          >\n            {item.link_url.match(/\\.(mp4|webm|ogg)$/i) ? (\n              <video\n                className=\"d-block w-full h-full\"\n                src={'https://tdtest84-ag.qcpro.vip/reseller/images/banner/20230223_QC_300100_CN.gif'}\n                autoPlay\n                muted\n                loop\n                style={{ objectFit: \"cover\" }} // 讓影片適應容器\n                onError={(e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n                  const target = e.currentTarget;\n                  target.onerror = null; // Prevents infinite loop in case fallback also fails\n                  target.src = \"https://player.vimeo.com/external/374265480.hd.mp4?s=2753a67069f7a1b9e191772da00c55042b805a3b&profile_id=175\"; // Fallback video URL\n                }}\n              >\n                Your browser does not support the video tag.\n              </video>\n            ) : (\n              <div onClick={() => handleImgClick(item?.link_url)}>\n                <img\n                  className=\"d-block w-full h-full object-contain\"\n                  src={`${imgHost}${item?.img_url}`}\n                  alt={item?.b_description || \"Image\"}\n                  onError={(e) => {\n                    e.currentTarget.onerror = null;\n                    e.currentTarget.src = '';\n                  }}\n                />\n              </div>\n            )}\n          </Carousel.Item>\n        );\n      })}\n    </Carousel>\n  );\n}\nexport default Carousels;\n","import * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport defaultPng from \"../../../images/qc-default-img.jpg\";\nimport { AppDispatch } from \"../../../store\";\nimport { useDispatch } from \"react-redux\";\nimport { setRecommend2Pay } from \"../../../store/analyticsSlice\";\n\ninterface VideoCardProps {\n  id: string;\n  uuid: string;\n  title: string;\n  imageUrl: string;\n  preview?: string;\n  duration: string;\n  actor?: string;\n  isLinkEnabled?: boolean;\n  selectItems?: string[];\n  toggleSelectItem?: (index: string) => void;\n  vWidth?: string;\n  cate?: string;\n  mode?: string;\n}\n\nconst VideoCard: React.FC<VideoCardProps> = ({\n  id,\n  uuid,\n  title,\n  imageUrl,\n  preview,\n  duration,\n  actor,\n  isLinkEnabled = true, // 默認啟用連結\n  selectItems,\n  toggleSelectItem,\n  vWidth,\n  cate,\n  mode\n}) => {\n  const selectedIndex = selectItems?.indexOf(uuid) ?? -1;\n  const isSelected = selectedIndex !== -1;\n  const imgRefs = React.useRef<(HTMLImageElement | null)[]>([]);\n  const [orientation, setOrientation] = React.useState<'horizontal' | 'vertical'>('vertical');\n  const { t } = useTranslation();\n  const dispatch:AppDispatch = useDispatch();\n\n  const handleImageLoad = (e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n    const img = e.currentTarget;\n    if (img.naturalWidth > img.naturalHeight) {\n      setOrientation(\"horizontal\");\n    } else if (img.naturalWidth < img.naturalHeight) {\n      setOrientation(\"vertical\");\n    }\n  };\n  \n  React.useEffect(() => {\n    if (vWidth !== \"vertical\") {\n      imgRefs.current.forEach((img) => {\n        if (img) {\n          img.style.objectPosition = \"center\";\n        }\n      });\n    }\n  }, [vWidth]);\n\n  const CardContent = (\n    <>\n      <div\n        className={\n          `relative w-full h-full overflow-hidden ${(cate === \"歐美\" || cate === \"欧美\") ? \"aspect-[0.71]\" : \"aspect-[1.49]\"}`\n        }\n        id={uuid}\n        onClick={() => {\n          if (toggleSelectItem) toggleSelectItem(uuid);\n        }}\n      >\n        {/* Overlay if item is selected */}\n        {isSelected && (\n          <div className=\"absolute inset-0 bg-gray-500 opacity-50 z-10\"></div>\n        )}\n\n        {/* Display selected index in a circle at the top-right corner */}\n        {isSelected && (\n          <span className=\"absolute top-0 right-0 m-1 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center z-20\">\n            {selectedIndex + 1}\n          </span>\n        )}\n        <div \n          className={\n            mode === \"map\" && orientation === \"horizontal\" && (cate === \"歐美\" || cate === \"欧美\")\n              ? \"w-full relative overflow-hidden pb-[70%]\"\n              : \"w-full h-full relative\"\n          }\n          style={{\n            backgroundImage: `url(${defaultPng})`,\n            backgroundSize: \"cover\",\n            backgroundPosition: \"center\",\n          }}\n        >\n          <img\n            loading=\"lazy\"\n            src={imageUrl}\n            alt={title || \"Video thumbnail\"}\n            className=\"object-cover w-full h-full\"\n            onLoad={handleImageLoad}\n            onError={(e) => {\n              (e.target as HTMLImageElement).onerror = null; // 防止無限觸發\n              (e.target as HTMLImageElement).src = defaultPng; // 使用本地圖片\n              (e.target as HTMLImageElement).style.objectPosition = \"center\"; // 圖片置中\n            }}\n            style={ \n              mode === \"map\" && orientation === \"horizontal\" && (cate === \"歐美\" || cate === \"欧美\")\n                ? { \n                    transform: \"scale(2.11)\", // 放大 1.2 倍 \n                    transformOrigin: \"top right\",\n                    display: \"block\", \n                    width: \"100%\", \n                    minHeight: 250,\n                  }\n                : {\n                  objectPosition: \"right\",\n                  display: \"block\", \n                  width: \"100%\", \n                  \n                } \n            }\n            ref={(img) => imgRefs.current.push(img)}\n          />\n        </div>\n        {(cate === \"強檔獨家\" ||\n          cate === \"獨家\" ||\n          cate === \"强档独家\" ||\n          cate === \"\") && (\n          <p \n            className=\"absolute top-0 left-0 m-1 rounded-full text-white text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-2\"\n            style={{\n              borderColor: \"rgb(5, 247, 72)\",\n              backgroundColor: \"rgb(49, 79, 4)\"\n            }}\n          >\n            {t(\"獨\")}\n          </p>\n        )}\n        {(cate === \"中文字幕\" ||\n          cate === t(\"中文字幕\") ||\n          cate === \"中文\") && (\n          <p className=\"absolute top-0 left-0 m-1 rounded-full bg-gray-700 text-fuchsia-500 text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-fuchsia-500 border-2\">\n            {t(\"中\")}\n          </p>\n        )}\n        {(cate === \"無碼\" || cate === \"无码\") && (\n          <p className=\"absolute top-0 left-0 m-1 rounded-full bg-gray-700 text-sky-500 text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-blue-500 border-2\">\n            {t(\"無\")}\n          </p>\n        )}\n        {(cate === \"自拍\") && (\n          <p \n            className=\"absolute top-0 left-0 m-1 rounded-full bg-gray-700 text-xxs p-0.5 w-8 h-8 flex items-center justify-center bold-500 border-lime-500 border-2\"\n            style={{\n              color: \"rgb(22, 204, 182)\",\n              borderColor: \"rgb(22, 204, 182)\",\n            }}\n          >\n            {t(\"自\")}\n          </p>\n        )}\n        {![\n          \"强档独家\",\n          \"无码\",\n          \"強檔獨家\",\n          \"獨家\",\n          \"中文字幕\",\n          \"中文\",\n          \"無碼\",\n          \"自拍\",\n        ].includes(cate || \"\") && (\n          <p className=\"absolute top-0 left-0 m-1 rounded-full bg-black text-secondary text-xxs p-0.5 w-8 h-8 flex items-center justify-center\">\n            HD\n          </p>\n        )}\n        <p className=\"absolute top-0 right-0 m-1 bg-backgroundTrans rounded text-primary-active text-xxs p-0.5\">\n          {duration || \"00:00:00\"}\n        </p>\n      </div>\n      <div className=\"text-left mt-1 text-sm flex-shrink-0 line-clamp-1 break-all\">\n        {title}\n      </div>\n      {actor && (\n        <div className=\"text-left mt-1 text-xs flex-shrink-0 line-clamp-1 h-5 text-red-400\">\n          {actor}\n        </div>\n      )}\n    </>\n  );\n\n  return isLinkEnabled ? (\n    <Link\n      className=\"h-full w-full flex flex-col justify-start\"\n      to={`/app/Video?uuid=${uuid}&cate=${cate}&mode=${mode}`}\n    >\n      {CardContent}\n    </Link>\n  ) : (\n    <div className=\"h-full w-full flex flex-col justify-between\">\n      {CardContent}\n    </div>\n  );\n};\n\nexport default VideoCard;\n","import { useTranslation } from \"react-i18next\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\nimport VideoCard from \"../VideoCard\";\nimport { forwardRef, useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../../../store\";\nimport { formatSecondsToHMS, switchName, getCategory } from \"../../../utils/helper\";\nimport \"./videoMap.css\";\n\ninterface VideoMapProp {\n  title?: string;\n  data: any;\n  onReachBottom?: () => void;\n  isLinkEnabled?: boolean;\n  selectItems?: string[];\n  toggleSelectItem?: (id: string) => void;\n  cate?: string;\n  currentPage?: number;\n  endPage?: number;\n  isSearch?: boolean;\n  lastPage?: boolean | null;\n}\nconst VideoMap = forwardRef<HTMLDivElement, VideoMapProp >(\n  ({ \n    title, \n    data, \n    onReachBottom, \n    isLinkEnabled, \n    toggleSelectItem, \n    selectItems, \n    cate, \n    currentPage,\n    endPage,\n    isSearch = false,\n    lastPage = false\n  }, ref) => {\n    \n  const { t } = useTranslation();\n  const language = useSelector((state: RootState) => state.init.language);\n  const init = useSelector((state: RootState) => state.init.init);\n  const [isBottom, setIsBottom] = useState(false);\n  const observerRef = useRef<HTMLDivElement | null>(null); // 用来监视底部元素的 ref\n\n  useEffect(() => {\n    if (!observerRef.current) {\n      return;\n    }\n    \n    const observer = new IntersectionObserver(\n      (entries) => {\n        const target = entries[0];\n        if (target.isIntersecting) {\n          setIsBottom(true);\n          if (onReachBottom) {\n            onReachBottom(); // 触发外部传入的函数\n          }\n        }\n      },\n      {\n        root: null, // 设置监视范围为容器\n        threshold: 0.5, // 目标部分可见即可触发\n      }\n    );\n\n  \n    observer.observe(observerRef.current);\n\n    if (lastPage) {\n      observer.unobserve(observerRef.current);\n    }\n\n    return () => {\n      if (observerRef.current) {\n        observer.unobserve(observerRef.current);\n      }\n    };\n  }, [onReachBottom, lastPage]); // 仅监听 onReachBottom 变化\n\n  if (!data || data.length === 0) {\n    return null;\n  }\n\n  return (\n    <div\n      id=\"videoMapContainer\"\n      className=\"video-map-container \"\n      ref={ref}\n    >\n      <div className=\"flex flex-wrap px-2 pb-2\">\n        {data?.map((item: any, index: number) => (\n          <div key={index} className=\"w-full p-2\">\n            <VideoCard\n              id={item._id}\n              uuid={item.uuid}\n              imageUrl={`${init?.img_host}/preview/80/b/${item.uuid}-800.jpg`}\n              title={switchName(item, language)}\n              preview={`https://tdtest84-ag.qcpro.vip/subpage/getMvPreview.php?uuid=${item.uuid}&v=1722229802`}\n              duration={formatSecondsToHMS(item.time)}\n              actor={item.actor}\n              isLinkEnabled={isLinkEnabled}\n              selectItems={selectItems}\n              toggleSelectItem={toggleSelectItem}\n              cate={getCategory(item) ?? \"\"}\n              mode={\"map\"}\n            />\n          </div>\n        ))}\n      </div>\n      {/* 用来监视是否到底的元素 */}\n      <div ref={observerRef} className=\"observer-target h-8\"></div>\n    </div>\n  );\n});\nexport default VideoMap;\n","import React, { useState, useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport VideoMap from \"../../components/Video/VideoMap\";\nimport Carousels from \"../../components/Carousels\";\nimport BackBar from \"../../components/BackBar\";\nimport AdBanner from \"../../components/AdBanner\";\n\nconst carouselsData = [\n  {\n    imageUrl: \"https://fakeimg.pl/500x250/fff59d/\",\n    altText: \"Slide 1\",\n    caption: \"First slide label\",\n    description: \"Nulla vitae elit libero, a pharetra augue mollis interdum.\",\n  },\n  {\n    imageUrl: \"https://fakeimg.pl/500x250/9ddfff/\",\n    altText: \"Slide 2\",\n    caption: \"First slide label\",\n    description: \"Nulla vitae elit libero, a pharetra augue mollis interdum.\",\n  },\n  {\n    imageUrl: \"https://fakeimg.pl/500x250/ffa19d/\",\n    altText: \"Slide 3\",\n    caption: \"First slide label\",\n    description: \"Nulla vitae elit libero, a pharetra augue mollis interdum.\",\n  },\n];\n\nfunction generateRandomDuration() {\n  const totalSeconds = Math.floor(Math.random() * 3600) + 1;\n  const hours = Math.floor(totalSeconds / 3600)\n    .toString()\n    .padStart(2, \"0\");\n  const minutes = Math.floor((totalSeconds % 3600) / 60)\n    .toString()\n    .padStart(2, \"0\");\n  const seconds = (totalSeconds % 60).toString().padStart(2, \"0\");\n  return `${hours}:${minutes}:${seconds}`;\n}\n\nfunction ZoneList() {\n  const { t } = useTranslation();\n  const data = Array.from({ length: 10 }, (_, index) => {\n    return {\n      name: `影片${index + 1}`,\n      imageUrl: `https://picsum.photos/480/270?random=${index + 1}`,\n      duration: generateRandomDuration(),\n    };\n  });\n\n  return (\n    <div className=\"pb-16\">\n      <BackBar />\n      <Carousels data={carouselsData} />\n      <div className=\"py-4\">\n        <VideoMap title={t(\"身份\")} filter={true} data={data} count={145540} />\n      </div>\n      <AdBanner />\n    </div>\n  );\n}\n\nexport default ZoneList;\n"],"names":["_ref","_adData$2","_adData$2$data$","styleProps","isVisible","setIsVisible","useState","dispatch","useDispatch","navigate","useNavigate","adData","useSelector","state","ads","init","useEffect","fetchAds","console","log","_jsx","_Fragment","children","Array","isArray","data","className","style","maxWidth","width","height","onClick","_adData$","_adData$$data$","link","result","bannerNavigate","route","a","document","createElement","href","target","click","handleImgClick","link_url","_jsxs","src","img_host","img_url","alt","onError","e","currentTarget","onerror","stopPropagation","FontAwesomeIcon","icon","faTimes","size","imgHost","Carousel","indicators","controls","map","item","i","Item","cursor","maxHeight","match","autoPlay","muted","loop","objectFit","b_description","_selectItems$indexOf","id","uuid","title","imageUrl","preview","duration","actor","isLinkEnabled","selectItems","toggleSelectItem","vWidth","cate","mode","selectedIndex","indexOf","isSelected","imgRefs","React","orientation","setOrientation","t","useTranslation","current","forEach","img","objectPosition","CardContent","backgroundImage","defaultPng","backgroundSize","backgroundPosition","loading","onLoad","naturalWidth","naturalHeight","display","transform","transformOrigin","minHeight","ref","push","borderColor","backgroundColor","color","includes","Link","to","forwardRef","onReachBottom","currentPage","endPage","isSearch","lastPage","language","isBottom","setIsBottom","observerRef","useRef","observer","IntersectionObserver","entries","isIntersecting","root","threshold","observe","unobserve","length","index","_getCategory","VideoCard","_id","switchName","formatSecondsToHMS","time","getCategory","carouselsData","altText","caption","description","generateRandomDuration","totalSeconds","Math","floor","random","toString","padStart","from","_","name","BackBar","Carousels","VideoMap","filter","count","AdBanner"],"sourceRoot":""}