{"version":3,"file":"static/js/6870.6f371b87.chunk.js","mappings":"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","sources":["components/Carousels/index.tsx","pages/LandingPage/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport  Carousel from \"react-bootstrap/Carousel\";\nimport \"./index.scss\"; // 引入自定義的 SCSS 文件\nimport { AdData } from '../../type/adsType';\nimport { bannerNavigate } from '../../utils/helper';\nimport { useNavigate } from 'react-router-dom';\ninterface CarouselProps {\n  data: AdData[] | null;\n  imgHost: string;\n};\nconst Carousels: React.FC<CarouselProps> = ({ data, imgHost }) => {\n  const navigate = useNavigate();\n\n  const handleImgClick = (link: string) => {\n    const result = bannerNavigate(link);\n    if (typeof result === \"object\") {\n      console.log(\"route: \", result?.route);\n      console.log(\"state: \", result?.state);\n    }  \n  \n    if (result !== null && typeof result === 'object') {\n      navigate(result?.route, {state: result?.state });\n    } else {\n      const a = document.createElement('a');\n      a.href = result;\n      a.target = '_blank'; // 或同分頁就是 '_self'\n      a.click();\n    }\n  }\n  return (\n    <Carousel indicators={true} controls={false}>\n      {Array.isArray(data) && data?.map((item, i) => {\n        return (\n          <Carousel.Item \n            onClick={() => {}}\n            style={{\n              cursor: \"pointer\",\n              width: \"100%\",\n              maxHeight: \"auto\", // 可根據比例調整 \n            }}\n            key={i}\n          >\n            {item.link_url.match(/\\.(mp4|webm|ogg)$/i) ? (\n              <video\n                className=\"d-block w-full h-full\"\n                src={'https://tdtest84-ag.qcpro.vip/reseller/images/banner/20230223_QC_300100_CN.gif'}\n                autoPlay\n                muted\n                loop\n                style={{ objectFit: \"cover\" }} // 讓影片適應容器\n                onError={(e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n                  const target = e.currentTarget;\n                  target.onerror = null; // Prevents infinite loop in case fallback also fails\n                  target.src = \"https://player.vimeo.com/external/374265480.hd.mp4?s=2753a67069f7a1b9e191772da00c55042b805a3b&profile_id=175\"; // Fallback video URL\n                }}\n              >\n                Your browser does not support the video tag.\n              </video>\n            ) : (\n              <div onClick={() => handleImgClick(item?.link_url)}>\n                <img\n                  className=\"d-block w-full h-full object-contain\"\n                  src={`${imgHost}${item?.img_url}`}\n                  alt={item?.b_description || \"Image\"}\n                  onError={(e) => {\n                    e.currentTarget.onerror = null;\n                    e.currentTarget.src = '';\n                  }}\n                />\n              </div>\n            )}\n          </Carousel.Item>\n        );\n      })}\n    </Carousel>\n  );\n}\nexport default Carousels;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { persistor } from '../../store';\nimport { Link } from \"react-router-dom\";\nimport Carousels from \"../../components/Carousels\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"../../store\";\nimport { AppDispatch } from \"../../store\";\nimport { fetchAds } from \"../../store/adsSlice\";\nimport { fetchInit } from \"../../store/initSlice\";\nimport { decryptData } from \"../../utils/decryptUtils\";\nimport { AdsData } from \"../../type/adsType\";\nimport { Button } from \"react-bootstrap\";\nimport Loading from \"../../components/Loading\";\nimport { fetchIndexPage } from \"../../store/videoSlice\";\nimport { fetchPaymentHistory, fetchPointHistory } from \"../../store/rechargeSlice\";\nimport { Height } from \"@mui/icons-material\";\nimport { logEvent } from \"../../utils/ga\";\n\nconst LandingPage: React.FC = () => {\n  const countdown = 1;\n  const { t, i18n } = useTranslation(); // t函數用於翻譯\n  const currentYear: number = new Date().getFullYear(); // 宣告currentYear的類型為number\n\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n\n  const language = useSelector((state: RootState) => state.init.language);\n  const init = useSelector((state: RootState) => state.init.init);\n  const adData = useSelector((state: RootState) => state.ads.adData);\n  const errorType = useSelector((state: RootState) => state.error.errorType);\n  const hasError = useSelector((state: RootState) => state.error.hasError);\n  const useInfo = useSelector((state: RootState) => state.userInfo.userInfoData);\n  const pay = useSelector((state: RootState) => state.recharge.rechargeData);\n\n  const dispatch: AppDispatch = useDispatch();\n  const imgHost = useMemo(() => init, [init]);\n\n  useEffect(() => {\n    console.log(\"useInfo: \", useInfo);\n\n  }, [useInfo])\n  useEffect(() => {\n    console.log(\"pay: \", pay);\n    \n  }, [pay])\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      try {\n        // 使用 Promise.all 等待兩個 API 都完\n        const [fetchedAds, fetchedConfigure] = await Promise.all([\n          dispatch(fetchAds(61)),\n          dispatch(fetchInit()),\n        ]);\n        if (fetchedConfigure && fetchedAds) {\n          setIsLoading(false);\n        }\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        setIsLoading(false);\n      }\n    };\n    fetchAllData();\n  }, [dispatch]);\n\n  if (isLoading) {\n    return <Loading />;\n  } else {\n    return (\n      <div id=\"landing-page\" className=\"full-screen flex flex-col items-center justify-center\" style={{height: '100vh'}}>\n        <img\n          className=\"w-2/6 mb-8 h-auto\"\n          src={require(\"../../images/logo.png\")}\n          alt=\"iQQ tv\"\n        />\n        <div className=\"w-3/4 h-auto\">\n          <Carousels data={adData[61]?.data ?? []} imgHost={init?.img_host ?? ''} />\n        </div>\n        <Link to=\"/ad\">\n          <button className=\"my-16 px-5 py-2.5 bg-secondary text-primary-active rounded-full\">\n            {t(\"我保證已滿18歲\")}!\n          </button>\n        </Link>\n        <div className=\"fixed w-full flex justify-between bottom-0 pb-4 px-2 text-primary-inactive text-sm\">\n          {/* <span>© 2008-{currentYear} iQQtv </span> */}\n          <span>© 2008-{currentYear} iQQtv </span>\n          <span className=\"pr-4\">V{localStorage.getItem('app_version')}</span>\n        </div>\n      </div>\n    );\n  }\n};\nexport default LandingPage;\n"],"names":["_ref","data","imgHost","navigate","useNavigate","_jsx","Carousel","indicators","controls","children","Array","isArray","map","item","i","Item","onClick","style","cursor","width","maxHeight","link_url","match","className","src","autoPlay","muted","loop","objectFit","onError","e","target","currentTarget","onerror","link","result","bannerNavigate","console","log","route","state","a","document","createElement","href","click","handleImgClick","img_url","alt","b_description","LandingPage","t","i18n","useTranslation","currentYear","Date","getFullYear","isLoading","setIsLoading","useState","init","useSelector","language","adData","ads","useInfo","error","errorType","hasError","userInfo","userInfoData","pay","recharge","rechargeData","dispatch","useDispatch","useMemo","useEffect","async","fetchedAds","fetchedConfigure","Promise","all","fetchAds","fetchInit","fetchAllData","Loading","_jsxs","id","height","require","Carousels","_adData$61$data","_adData$","_init$img_host","img_host","Link","to","localStorage","getItem"],"sourceRoot":""}