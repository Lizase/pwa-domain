{"version":3,"file":"static/js/6942.51a320d3.chunk.js","mappings":"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","sources":["components/CustomToast/index.tsx","components/Modal/DownloadModal/index.tsx","components/Modal/ListModal/index.tsx","components/Modal/UsageHandle/index.tsx","components/Modal/PlanSelection/index.tsx","components/VolumeList/index.tsx","components/Modal/ComicVolumeListModal/index.tsx","components/ComicBar/index.tsx","../node_modules/@mui/system/esm/Container/createContainer.js","../node_modules/@mui/material/Container/Container.js","pages/ComicPage/index.tsx","utils/checkUserInfoUtils.ts"],"sourcesContent":["// src/components/CustomToast.tsx\nimport React from \"react\";\nimport { toast, ToastOptions } from \"react-hot-toast\";\n\ninterface CustomToastProps {\n  message: string;\n  type: \"success\" | \"error\" | \"loading\";\n}\n\nconst toastStyles: { [key: string]: React.CSSProperties } = {\n  success: {\n    backgroundColor: \"#f44336\", // Green background\n    color: \"#fff\",\n    paddingLeft: '2rem',\n    paddingRight: '2rem',\n    marginTop: '50%'\n  },\n  error: {\n    backgroundColor: \"#f44336\", // Red background\n    color: \"#fff\",\n  },\n  loading: {\n    backgroundColor: \"#333\", // Dark background\n    color: \"#fff\",\n  },\n};\n\nexport const showCustomToast = (message: string, type: \"success\" | \"error\" | \"loading\") => {\n  return toast(message, {\n    style: toastStyles[type],\n    duration: type === \"loading\" ? undefined : 4000, // Keep loading toast until dismissed\n    position: \"top-center\",\n  });\n};","import {useEffect, useState} from \"react\";\nimport { Dialog, DialogContent, DialogActions, IconButton, TextField, Button } from \"@mui/material\";\nimport { XMarkIcon, TicketIcon } from \"@heroicons/react/24/outline\";\n\nimport { showCustomToast } from \"../../../components/CustomToast\";\nimport Modal from \"../../Modal\";\nimport { colors } from \"../../../styles/colors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../../../store\";\nimport { useTranslation } from \"react-i18next\";\nimport { setDownloading } from \"../../../store/initSlice\";\n\ninterface DownloadModalProps {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  type: \"video\" | \"comic\"\n}\n\nconst DownloadModal: React.FC<DownloadModalProps> = ({ open, onClose, title, type }) => {\n  const {t} = useTranslation();\n  const dispatch:AppDispatch = useDispatch();\n  const mvDownloadInfo = useSelector((state:RootState) => state.video.mvDownloadInfo);\n  const comicDownloadInfo = useSelector((state:RootState) => state.comic.downloadInfo);\n  const videoDownloadBtn = (\n    (mvDownloadInfo?.filelinks ?? []).map((item, index) => (\n      <a\n        key={index}\n        download\n        href={item.vurl} // 下载链接\n        rel=\"noopener noreferrer\" // 安全性\n        className=\"flex flex-col items-center justify-center font-bold text-gray-100 rounded-md\"\n        style={{ \n          backgroundColor: 'red',\n          width: '100%',\n          height: '100%',\n          textDecoration: 'none' // 去掉默认的链接样式\n        }}\n        onClick={()=> {\n          dispatch(setDownloading(true));\n          alert(t(\"已於背景開始下載\"));\n        }}\n      >\n        <span className=\"text-xl\">{`${item.type}${t('畫質')}`}</span>\n        <span className=\"text-xs\">{item.size}</span>\n      </a>\n    ))\n  );\n\n  const comicDownloadBtn = (\n    <div className=\"flex items-start justify-center space-x-4 w-full h-full py-2\">\n      <a \n        href={`https:${comicDownloadInfo?.filelinkPDF}`} \n        download \n        target=\"_blank\"\n        className=\"flex flex-col items-center justify-center font-bold text-gray-100 rounded-md\" \n        style={{ \n          backgroundColor: 'red', \n          width: '50%',\n          height: '100%',\n          textDecoration: 'none'\n        }}\n      >\n        <span className=\"text-xl\">pdf</span>\n      </a>\n      <a \n        href={`https:${comicDownloadInfo?.filelinkZIP}`} \n        download \n        target=\"_blank\"\n        className=\"flex flex-col items-center justify-center font-bold text-gray-100 rounded-md\" \n        style={{ \n          backgroundColor: 'red', \n          width: '50%',\n          height: '100%',\n          textDecoration: 'none'\n        }}\n      >\n        <span className=\"text-xl\">zip</span>\n      </a>\n    </div>\n  );\n\n  const videoFooterInfo = (\n    <div className=\"w-full flex flex-col text-xs text-gray-200\">\n      <span>{t('*提醒您：')}</span>\n      <span>{t('1. 建議使用Wi-fi電腦或下載，避免產生額外網路費用')}</span>\n      <span>{t('2. 可能需要下載解壓縮或PDF閱讀軟體開啟檔案')}</span>\n      <span className=\"text-red-500\">{t('*使用電腦版下載pdf請滑鼠右鍵[另存新檔]*')}</span>\n    </div>\n  );\n\n  const comicFooterInfo = (\n    <div className=\"w-full flex flex-col text-xs text-gray-200\">\n      <span>{t('*提醒您：')}</span>\n      <span>{t('1. 建議使用Wi-fi電腦或下載，避免產生額外網路費用')}</span>\n      <span>2. <span className=\"text-red-500\">{t('電腦')}</span>{t('下載時請於需下載的畫質選項上按右鍵')}<span className=\"text-red-500\">{t('另存新檔')}</span>{t('另存新檔')}</span>\n    </div>\n  );\n\n  return (\n    <Dialog \n      open={open} \n      onClose={onClose} \n      PaperProps={{\n        style: {\n          width: \"100%\", // 寬度設置為 90%          \n          height: \"28%\", // 高度設置為 80%\n        },\n      }}\n    >\n      <div className=\"bg-gray-800 p-3 rounded-t-lg w-full h-full\">\n        {/* Header */}\n        <div className=\"flex justify-center items-center\">\n          <h2 className=\"text-white text-lg font-bold relative\">{title}</h2>\n          <XMarkIcon onClick={onClose} className=\"h-5 w-5 text-white absolute right-1\"/>\n        </div>\n\n        <DialogContent className=\"bg-gray-800 w-full h-2/4\" style={{ padding: '10px 0px' }} >\n          {/* Input Field */}\n          {type === 'video' ? videoDownloadBtn : comicDownloadBtn}\n        </DialogContent>\n\n        <DialogActions className=\"flex bg-gray-800 w-full justify-start p-0\">\n         {type === 'video' ? videoFooterInfo : comicFooterInfo}\n        </DialogActions>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default DownloadModal;\n","import React, { useState } from 'react';\nimport { Dialog, DialogContent, DialogTitle, IconButton } from '@mui/material';\nimport { XMarkIcon } from '@heroicons/react/24/outline'; // 使用 HeroIcons 的叉叉圖示\nimport { colors } from \"../../../styles/colors\";\nimport { showCustomToast } from '../../CustomToast';\nimport { useTranslation } from 'react-i18next';\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\n\ninterface ModalProps {\n  open: boolean;\n  title?: string;\n  content?: string[];\n  onClose: () => void;\n  onClick: (category: number) => void;\n  datasetId?:string;\n  type?: string;\n  defaultIndex?: number; \n  selectedIndex?: number\n}\n\nconst ListModal: React.FC<ModalProps> = ({\n  open,\n  onClose,\n  onClick,\n  title = '',\n  content,\n  type,\n  defaultIndex = -1,\n  selectedIndex = -1\n}) => {\n\n  const [selectedIndices, setSelectedIndices] = useState<number>(-1);\n  const {t} = useTranslation();\n  const player = useSelector((state: RootState) => state.init.player);\n  const stream = useSelector((state: RootState) => state.init.stream);\n  const favor = useSelector((state: RootState) => state.init.favor);\n\n  useEffect(() => {\n    setSelectedIndices(selectedIndex);\n  }, [selectedIndex]);\n\n  useEffect(() => {\n    setSelectedIndices(defaultIndex);\n  }, [defaultIndex]);\n\n  const toggleHighlight = (index: number, category: string) => {\n\n    onClick(index);\n   \n    setSelectedIndices(index);\n    if (type === 'favor') {\n      showCustomToast(t(\"新增最愛成功\"), \"success\");\n    } else if (type !== \"stream\"){\n      onClose();\n    }\n    else {\n      //showCustomToast(t(\"切換線路成功\"), \"success\");\n    }\n  };\n  useEffect(() => {\n    switch (type) {\n      case \"player\": \n        setSelectedIndices(content?.indexOf(player) ?? 0);\n        break;\n      case \"stream\": \n        setSelectedIndices(content?.indexOf(stream) ?? 1);\n        break;\n    }\n  }, [type])\n\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"sm\">\n      <div className='w-full' style={{backgroundColor: colors.background}}>\n        <div className=\"flex justify-center items-start relative\">\n          <DialogTitle className=\"text-white\">{title}</DialogTitle>\n          <IconButton onClick={onClose} style={{position: 'absolute', right:'2px'}}>\n            <XMarkIcon className=\"h-6 w-6 text-white\" />\n          </IconButton>\n        </div>\n        <DialogContent>\n          {content?.map((line, index: number) => (\n            <p\n              key={index}\n              onClick={() => toggleHighlight(index, line)}\n              className={`text-center cursor-pointer my-2 ${index === selectedIndices ? 'text-red-500' : 'text-white'}`}\n            >\n              {t(line)}\n            </p>\n          ))}\n        </DialogContent>\n      </div> \n    </Dialog>\n  );\n};\n\nexport default ListModal;\n","import React, { ReactNode, useEffect, useState } from 'react';\nimport Modal from '..';\nimport Button from \"../../Button\";\nimport { showCustomToast } from \"../../CustomToast\";\n\nimport { useSelector, useDispatch } from 'react-redux';  \nimport { AppDispatch, RootState } from '../../../store';\nimport * as wallet from '../../../store/walletSlice';\nimport * as video from '../../../store/videoSlice';\nimport {fetchComicInfo, pointToComic, setComicPurchase} from '../../../store/comicSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\ninterface UsageHandlerProps {\n  open: boolean;\n  onClose: () => void;\n  usageType: string;\n  usePoint: boolean;\n  cost: number;\n  description: string;\n}\n\nconst UsageHandler: React.FC<UsageHandlerProps> = ({ \n  open, onClose, usageType, usePoint, cost, description\n}) => {\n  const {t} = useTranslation();\n  const navigate = useNavigate();\n  const dispatch:AppDispatch = useDispatch();\n  const status = useSelector((state: RootState) => state.wallet.status?.status);\n  const errorMsg = useSelector((state: RootState) => state.wallet.status?.error_msg);\n\n  const videoInfo = useSelector((state: RootState) => state.video.videoInfoData);\n  //const comicInfo = useSelector((state: RootState) => state.comic.comicInfoData);\n  const episode = useSelector((state: RootState) => state.comic.comicPurchaseData?.episode) || 1;\n  const comicInfo = useSelector((state: RootState) => state.comic.comicInfoData);\n  const currentChapter = useSelector((state: RootState) => state.comic.currentChapter);\n  const pageInfos = useSelector((state: RootState) => state.comic.pageInfoList);\n  const pointToComicResult = useSelector((state: RootState) => state.comic.pointToComicResult);\n\n  const[isRechargeModalOpen, setIsRechargeModalOpen] = useState(false);\n  const[rechargeModalDes, setRechargeModalDes] = useState<ReactNode[]>([]);\n\n  const handleConfirm = () => {\n    switch (usageType) {\n      case 'videoOnlineTicket':\n        if (videoInfo) {\n          if (usePoint) {\n            if (videoInfo) {\n              const uuid = videoInfo?.data.uuid;\n              if (uuid) {\n                dispatch(video.pointToMv({\n                  num: uuid,\n                  use: \"1\", // 同意購買\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          } else {\n            if (videoInfo) {\n              const uuid = videoInfo?.data.uuid;\n              if (uuid) {\n                dispatch(video.pointToMv({\n                  num: uuid,\n                  exchange: \"1\", // 同意購買\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          }\n        }\n        break;\n      case 'videoDownloadTicket':\n        if (videoInfo) {\n          if (usePoint) {\n            if (videoInfo) {\n              const uuid = videoInfo?.data.uuid;\n              if (uuid) {\n                dispatch(video.pointToMv({\n                  num: uuid,\n                  dw: '1',\n                  use: \"1\", // 同意購買\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          } else {\n            if (videoInfo) {\n              const uuid = videoInfo?.data.uuid;\n              if (uuid) {\n                dispatch(video.pointToMv({\n                  num: uuid,\n                  dw: '1',\n                  exchange: \"1\", // 同意購買\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          }\n        }\n        break;\n      case 'comicOnlineTicket':\n        if (comicInfo) {\n          if (usePoint) {\n            if (comicInfo && currentChapter) {\n              const chapter = comicInfo?.comic_chapters.filter((chapter) => chapter.ci_chapter_order === currentChapter.toString());\n              const uuid = comicInfo?.comic_info.ci_uuid;\n              if (chapter && uuid) {\n                dispatch(pointToComic({\n                  uuid: uuid,\n                  chapter_uuid: chapter[0].ci_uuid,\n                  use: \"1\", // 同意購買\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                      dispatch(fetchComicInfo(uuid));\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          } else {\n            if (comicInfo && currentChapter) {\n              const chapter = comicInfo?.comic_chapters.filter((chapter) => chapter.ci_chapter_order === currentChapter.toString());\n              const uuid = comicInfo?.comic_info.ci_uuid;\n              if (chapter && uuid) {\n                dispatch(pointToComic({\n                  uuid: uuid,\n                  chapter_uuid: chapter[0].ci_uuid,\n                  exchange: \"1\", // 同意購買\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                      dispatch(fetchComicInfo(uuid));\n            \n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          }\n        }\n        break;\n      default:\n        if (comicInfo) {\n          if (usePoint) {\n            if (comicInfo && currentChapter) {\n              const chapter = comicInfo?.comic_chapters.filter((chapter) => chapter.ci_chapter_order === currentChapter.toString());\n              const uuid = comicInfo?.comic_info.ci_uuid;\n              if (chapter && uuid) {\n                dispatch(pointToComic({\n                  uuid: uuid,\n                  chapter_uuid: chapter[0].ci_uuid,\n                  dw: \"1\", // 同意購買\n                  use: '1',\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          } else {\n            if (comicInfo && currentChapter) {\n              const chapter = comicInfo?.comic_chapters.filter((chapter) => chapter.ci_chapter_order === currentChapter.toString());\n              const uuid = comicInfo?.comic_info.ci_uuid;\n              if (chapter && uuid) {\n                dispatch(pointToComic({\n                  uuid: uuid,\n                  chapter_uuid: chapter[0].ci_uuid,\n                  dw: \"1\", // 同意購買\n                  exchange: '1',\n                  check_buy: \"1\"\n                }))\n                  .then((result) => {\n                    if (result.payload.result === 'ok') {\n                      showCustomToast( result.payload.result_msg, 'error');\n                    } else if (result.payload.error) {\n                      setRechargeModalDes([<div className='text-md p-6'>{result.payload.error_msg}</div>]);\n                      setIsRechargeModalOpen(true);\n                    }\n                  })\n                  .catch((error) => {\n                    console.error('Fetch failed:', error);\n                  });\n              }\n            }\n          }\n        }\n        break;\n    }\n    onClose();\n  };\n  const handleRechargeModalClose = () => {\n    setIsRechargeModalOpen(false);\n  };\n\n  useEffect(() => {\n    if (pointToComicResult) {\n      if (pointToComicResult.result === 'ok')\n        showCustomToast(pointToComicResult.result_msg, 'error');\n    }\n  }, [pointToComicResult])\n\n  const handleButtons = [\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={handleConfirm}>\n      {t('確認')}\n    </Button>,\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={onClose}>\n      {t('取消')}\n    </Button>\n  ];\n  const handleToRechargeButtons = [\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={()=>navigate('/app/recharge')}>\n      {t('確認')}\n    </Button>,\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={handleRechargeModalClose}>\n      {t('取消')}\n    </Button>\n  ];\n\n  return (\n    <div>\n      <Modal\n      content={[description]}\n      open={open}\n      onClose={onClose}\n      buttons={handleButtons}\n      />\n      <Modal\n        content={[rechargeModalDes]}\n        open={isRechargeModalOpen}\n        onClose={handleRechargeModalClose}\n        buttons={handleToRechargeButtons}\n      />\n    </div>\n  );\n};\n\nexport default UsageHandler;\n","import React, { useEffect, useState, useMemo, useCallback, useDebugValue } from 'react';\n\nimport Modal from '..';\nimport Button from \"../../Button\";\nimport UsageHandler from '../UsageHandle';\n\nimport { useDispatch, useSelector, UseSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../../../store';\nimport { pointToComic, setComicPurchase, setComicPurchaseInfo } from '../../../store/comicSlice';\nimport { showCustomToast } from '../../CustomToast';\nimport { PurchaseInfo } from '../../../type/comicType';\nimport { useTranslation } from 'react-i18next';\n\ninterface PlanSelectionProps {\n  open: boolean;\n  setIsPlanSelectionOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  costPoint: number;\n  type?: \"videoOnlineTicket\" | \"videoDownloadTicket\" | \"comicOnlineTicket\" | \"comicDownloadTicket\";\n  setBtnGroupIndex?: (index: number) => void;\n};\ninterface ButtonConfig {\n  buttonText: string;\n  description: string;\n  pointDesc: string;\n  ref: 'video_online' | 'video_download' | 'comic_online' | 'comic_download';\n}\n\nconst PlanSelection: React.FC<PlanSelectionProps> = ({ \n  open, \n  setIsPlanSelectionOpen, \n  costPoint, \n  type = \"comicOnlineTicket\",\n  setBtnGroupIndex,\n}) => {\n  const {t} = useTranslation();\n  const comicPurchaseInfo = useSelector((state: RootState) => state.comic.purchaseInfo);\n  const mvPurchaseInfo = useSelector((state: RootState) => state.video.purchaseInfo);\n  useEffect(() => {\n\n  }, [mvPurchaseInfo]);\n  // 配置按鈕文字和描述內容\n  const buttonConfig: { [key: string]: ButtonConfig } = {\n    'videoOnlineTicket': {\n      buttonText: t(\"影片線上券*1\"),\n      description: t(\"確定使用影片線上券*1張，購買單片48小時無限次觀看?\"),\n      pointDesc: `${t('確定消費')}${costPoint}${t('點，購買單片48小時無限次觀看?')}`,\n      ref: 'video_online'\n    },\n    'videoDownloadTicket': {\n      buttonText: t(\"影片下載券*1\"),\n      description: t(\"確定使用影片下載券*1張，購買單片48小時無限次下載?\"),\n      pointDesc: `${t('確定消費')}${costPoint}${t('點，購買單片48小時無限次下載?')}`,\n      ref: 'video_download'\n    },\n    'comicOnlineTicket': {\n      buttonText: t(\"漫畫線上券*1\"),\n      description: t(\"確定使用漫畫券*1張，購買單話48小時無限次觀看?\"),\n      pointDesc: `${t('確定消費')}${comicPurchaseInfo?.needPoint}${t('點，購買整本48小時無限次觀看?')}`,\n      ref: 'comic_online'\n    },\n    'comicDownloadTicket': {\n      buttonText: t(\"漫畫下載券*1\"),\n      description: t(\"確定使用漫畫券*1張，購買單話48小時無限次下載?\"),\n      pointDesc: `${t('確定消費')}${comicPurchaseInfo?.needPoint}${t('點，購買整本48小時無限次下載?')}`,\n      ref: 'comic_download'\n    },\n  };\n  const currentConfig = buttonConfig[type];\n  const [isUsageOpen, setIsUsageOpen] = useState(false);\n  const [usePoint, setUsePoint] = useState(false);\n\n  // 使用 useMemo 來產生描述文字和按鈕組件\n  const description = useMemo(() => (\n    usePoint ? currentConfig.pointDesc : currentConfig.description\n  ), [usePoint, currentConfig]);\n\n  const buttons = useMemo(() => [\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={() => handleUsageOpen(type)}>\n      {currentConfig.buttonText}\n    </Button>,\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={() => handleUsageOpen('point')}>\n      {type.includes('comic') ? `${t('點數')}${comicPurchaseInfo?.needPoint}${t('點')}` : `${t('點數')}${costPoint}${t('點')}`}\n    </Button>\n  ], [type, comicPurchaseInfo, mvPurchaseInfo]);\n\n  // 使用 useCallback 確保 handleUsageOpen 在依賴未改變時不重新建立\n  const handleUsageOpen = useCallback((selectedType: string) => {\n    if (selectedType === 'point') {\n      //alert('功能施作中！');\n      setUsePoint(selectedType === 'point');\n      setIsUsageOpen(true);\n    } else {\n      setIsUsageOpen(true);\n    }\n    handleClose();\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setIsPlanSelectionOpen(false);\n    if (setBtnGroupIndex) {\n      setBtnGroupIndex(-1);\n    }\n  }, [setIsPlanSelectionOpen, setBtnGroupIndex]);\n\n  return (\n    <div>\n      <Modal\n        title={t(\"請選擇方案\")}\n        open={open}\n        onClose={handleClose}\n        buttons={buttons}\n      />\n      <UsageHandler\n        open={isUsageOpen}\n        onClose={() => {\n          setIsUsageOpen(false);\n          if (setBtnGroupIndex) {\n            setBtnGroupIndex(-1);\n          }\n        }}\n        usageType={type}\n        usePoint={usePoint}\n        cost={usePoint ? costPoint : 1}\n        description={description}\n      />\n    </div>\n  );\n};\n\nexport default PlanSelection;\n","import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Box, Button, FormControlLabel, styled, Switch, ToggleButtonGroup, Typography } from \"@mui/material\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleUp, faAngleDown, faLock } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { colors } from \"../../styles/colors\";\n\nimport Modal from \"../Modal\";\nimport PlanSelection from \"../Modal/PlanSelection\";\n\nimport { RootState, AppDispatch } from \"../../store\";\nimport { downloadComic, fetchChapter, fetchComicInfo, pointToComic, setComicPurchase, setComicPurchaseInfo, setCurrentChapter, setEpisode, setIsDownload } from \"../../store/comicSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport useUserInfo from \"../../utils/checkUserInfoUtils\";\nimport { ComicChapter, ComicInfoData, ComicPurchaseData, PurchaseInfo } from \"../../type/comicType\";\n\nimport DownloadModal from \"../Modal/DownloadModal\";\nimport { showCustomToast } from \"../CustomToast\";\nimport { ToggleButton } from \"react-bootstrap\";\n\nimport DownloadIcon from \"@mui/icons-material/Download\"; \nimport LiveTv from \"@mui/icons-material/LiveTv\"; \nimport { getFontClass } from \"../../utils/helper\";\n\n// 定義資料項目的類型\ninterface VolumeItem {\n  name: string;\n  isLocked: boolean;\n}\n\ninterface VolumeListProps {\n  type: 'online' | 'download';\n  color: string;\n}\n\ninterface handlePlanSelectionOpenParam {\n  chapter: number;\n}\n\nconst VolumeList: React.FC<VolumeListProps> = ({ type, color }) => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const dispatch:AppDispatch = useDispatch();\n\n  const userInfo = useSelector((state: RootState) => state.userInfo.userInfoData?.data);\n  const videoInfo = useSelector((state: RootState) => state.video.videoInfoData);\n  const comicInfo = useSelector((state: RootState) => state.comic.comicInfoData);\n  const currentChapter = useSelector((state: RootState) => state.comic.currentChapter);\n  const pageInfos = useSelector((state: RootState) => state.comic.pageInfoList);\n  const isDownload = useSelector((state: RootState) => state.comic.isDownload);\n  const language = useSelector((state: RootState) => state.init.language);\n  \n  const [data, setData] = useState<ComicChapter[] | null>(null);\n  const uuid = comicInfo ? comicInfo?.comic_info.ci_uuid : '';\n  const [isOpen, setIsOpen] = useState(false);\n  const [modalContent, setModalContent] = useState('');\n  const [isPlanSelectionOpen, setIsPlanSelectionOpen] = useState(false);\n  const [isFilterOldToNew, setIsFilterOldToNew] = useState<boolean>(true); // 控制排序：預設為由舊至新\n\n  const handleClose = () => setIsOpen(false);\n  const handleConfirm = () => {\n    navigate('/app/Recharge');\n  };\n  const handleCancel = () => {\n    setIsOpen(false);\n  };\n\n  const handleButtons = [\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={handleConfirm}>\n      {t('確認')}\n    </Button>,\n    <Button className=\"button-full active mt-1 w-1/3\" type=\"button\" onClick={handleCancel}>\n      {t('取消')}\n    </Button>\n  ];\n\n  const handlePlanSelectionOpen = (params: handlePlanSelectionOpenParam) => {\n    console.log(\"handlePlanSelectionOpen aaaaa\");\n    if (userInfo && Object.keys(userInfo).length > 0) {  \n      if (comicInfo && comicInfo.comic_info && Object.keys(comicInfo.comic_info).length > 0) {\n        if (comicInfo && params.chapter) {\n          const chapter = comicInfo?.comic_chapters.filter((chapter) => chapter.ci_chapter_order === params.chapter.toString());\n          const uuid = comicInfo?.comic_info.ci_uuid;\n          if (chapter && uuid) {\n            dispatch(pointToComic({\n              uuid: uuid,\n              chapter_uuid: chapter[0].ci_uuid\n            }))\n              .then((result) => {\n                if (result.payload.result === 'ok') {\n                  showCustomToast( result.payload.result_msg, 'error');\n                } else if (!result.payload.error) {\n                  dispatch(setComicPurchaseInfo(result.payload as PurchaseInfo));\n                  setIsPlanSelectionOpen(true);\n                }\n              })\n              .catch((error) => {\n                console.error('Fetch failed:', error);\n              });\n          }\n        } \n      }\n    } else {\n      navigate('/app/login');\n    }\n  }\n\n  // 按下按鈕時，切換排序順序\n  const handleSortToggle = () => {\n    setIsFilterOldToNew(!isFilterOldToNew);\n  };\n  \n  const handleEpisodes = (index: number, item: any) => {\n    const chapter = comicInfo?.comic_chapters.filter((chapter) => chapter.ci_chapter_order === item.ci_chapter_order);\n    const uuid = comicInfo?.comic_info.ci_uuid;\n    dispatch(setCurrentChapter(Number(item.ci_chapter_order)));\n\n    if (chapter && uuid && userInfo?.username) {\n      if (isDownload) {\n        const config = {\n          uuid: uuid,\n          chapter_uuid: chapter[0].ci_uuid,\n        };\n        dispatch(downloadComic(config))\n          .then((result) => {\n            if (result.payload.error) {\n              if (\n                userInfo.point >= Number(comicInfo.comic_info?.ci_point) ||\n                Number(userInfo.ex_tickets.comic_download) > 0\n              ) {\n                if (chapter && uuid) {\n                  dispatch(\n                    pointToComic({\n                      uuid: uuid,\n                      chapter_uuid: chapter[0].ci_uuid,\n                    })\n                  )\n                    .then((result) => {\n                      if (result.payload.result === \"ok\") {\n                        showCustomToast(result.payload.result_msg, \"error\");\n                      } else if (!result.payload.error) {\n                        dispatch(\n                          setComicPurchaseInfo(result.payload as PurchaseInfo)\n                        );\n                        setIsPlanSelectionOpen(true);\n                      }\n                    })\n                    .catch((error) => {\n                      console.error(\"Fetch failed:\", error);\n                    });\n                }\n              } else {\n                setModalContent(t(\"點數、下載券不足，是否前往加值?\"));\n                setIsOpen(true);\n              }\n            } else {\n              setDownloadOpen(true);\n            }\n          })\n          .catch((error) => {\n            console.log(\"downloadComic exception: \", error);\n          });\n      } else {\n        dispatch(fetchChapter({\n          uuid: uuid,\n          cat: 1,\n          chapter_uuid: chapter[0].ci_uuid,\n          view_type: 0,\n        }))\n          .then((result) => {\n            if (result.payload.error) {\n              handlePlanSelectionOpen({ chapter: Number(item.ci_chapter_order)});\n            } else if (result.payload.infoList){\n              navigate(`/app/comicPage/${Number(item.ci_chapter_order)}`);\n              dispatch(setCurrentChapter(Number(item.ci_chapter_order)));\n            }\n          })\n          .catch((error) => {\n            console.error('Fetch failed:', error);\n          });\n      }\n    } else {\n      navigate('/app/login');\n    }\n  };\n\n  const [downloadOpen, setDownloadOpen] = useState(false);\n  const handleDownloadClose = () => setDownloadOpen(false);\n\n  // 根據排序狀態調整話數的顯示順序\n  \n  const sortedData = data\n  ? (isFilterOldToNew ? data : [...data].reverse())\n  : [];\n  \n  useEffect(() => {\n    if (comicInfo) {\n      setData([...comicInfo?.comic_chapters]);\n    }\n  }, [comicInfo]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(setIsDownload(false));\n    }\n  }, []);\n\n  const handleToggle = (event: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch(setIsDownload(event.target.checked));\n  };\n\n  const MaterialUISwitch = styled(Switch)(({ theme }) => ({\n    width: 62,\n    height: 34,\n    padding: 7,\n    '& .MuiSwitch-switchBase': {\n      margin: 1,\n      padding: 0,\n      transform: 'translateX(6px)',\n      '&.Mui-checked': {\n        color: '#fff',\n        transform: 'translateX(22px)',\n        '& + .MuiSwitch-track': {\n          opacity: 1,\n          backgroundColor: '#aab4be',\n        },\n      },\n    },\n    '& .MuiSwitch-thumb': {\n      backgroundColor: '#001e3c',\n      width: 32,\n      height: 32,\n      '&::before': {\n        content: \"''\",\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        left: 0,\n        top: 0,\n      },\n    },\n    '& .MuiSwitch-track': {\n      opacity: 1,\n      backgroundColor: '#aab4be',\n      borderRadius: 20 / 2,\n    },\n  }));\n\n  return (\n    <Box className={getFontClass(`${language}_m`)} sx={{ padding: \"10px 1rem\" }}>\n      {/* 排序選項 */}\n      <Box sx={{ marginTop: \"0px\", display: \"flex\", alignItems: \"center\" }}>\n        <div className=\"flex justify-between w-full\">\n          <div className=\"flex items-center\">\n            <FormControlLabel\n              control={\n                <MaterialUISwitch \n                  sx={{ m: 1 }}\n                  checked={isDownload}\n                  onChange={handleToggle}\n                  checkedIcon={\n                    <div\n                      style={{\n                        width: \"32px\",\n                        height: \"32px\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        backgroundColor: '#984B4B',\n                        borderRadius: '50%'\n                      }}\n                    >\n                      <DownloadIcon style={{ color: \"white\", fontSize: \"20px\" }} />\n                    </div>\n                  }\n                  icon={\n                    <div\n                      style={{\n                        width: \"32px\",\n                        height: \"32px\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        backgroundColor: '#984B4B',\n                        borderRadius: '50%'\n                      }}\n                    >\n                      <LiveTv style={{ color: \"white\", fontSize: \"20px\" }} />\n                    </div>\n                  } \n                />\n              }\n              label={ isDownload ? t(\"下載\") : t(\"線上\") }\n            />\n          </div>\n\n          <div className=\"flex items-center\">\n            <Typography sx={{ color: \"#fff\", marginRight: \"8px\" }}>\n              {t(\"排序：\")}\n            </Typography>\n            <Button sx={{ color: \"#fff\" }} onClick={handleSortToggle}>\n              {isFilterOldToNew ? t(\"由新至舊\") : t(\"由舊至新\")}\n              <FontAwesomeIcon\n                icon={isFilterOldToNew ? faAngleUp : faAngleDown}\n                style={{ marginLeft: \"8px\" }}\n              />\n            </Button>\n          </div>\n        </div>\n      </Box>\n\n      {/* 顯示話數按鈕區塊 */}\n      <Box\n        sx={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(2, 1fr)\", // 兩列佈局\n          gap: \"8px\",\n          marginTop: \"5px\",\n        }}\n      >\n        {sortedData?.map((item, index) => (\n          <Button\n            className=\"button-shorted bg-background justify-between flex items-center\"\n            style={ \n              Number(item.ci_chapter_order) === currentChapter \n              ? {backgroundColor: '#878787',color: '#D3D3D3'}\n              : {backgroundColor: color, color: colors.primary.inactive}\n            }\n            key={index}\n            onClick={() => handleEpisodes(index, item)}\n          >\n            <span className=\"flex-1 text-left\">{item.ci_name}</span>\n            {!item.has_permission && <FontAwesomeIcon icon={faLock} className=\"text-gray-200\"/>}\n          </Button>\n        ))}\n      </Box>\n      {\n        ((videoInfo && videoInfo.data.point) || (comicInfo && comicInfo.comic_info.ci_point)) &&\n        (\n          <PlanSelection\n            open={isPlanSelectionOpen}\n            setIsPlanSelectionOpen={setIsPlanSelectionOpen}\n            costPoint={Number(comicInfo!.comic_info.ci_point)}\n            type= {isDownload ? `comicDownloadTicket` : `comicOnlineTicket`}\n          />\n        )\n      }\n      <Modal\n        open={isOpen}\n        onClose={handleClose}\n        content={[modalContent]}\n        buttons={handleButtons}\n      />\n      <DownloadModal\n        open={downloadOpen}\n        onClose={handleDownloadClose}\n        title={t('請選擇您要下載的檔案格式')}\n        type = 'comic'\n      />\n    </Box>\n  );\n};\n\nexport default VolumeList;\n","import React, {useState, useEffect} from 'react';\n\nimport { Dialog, DialogActions, DialogContent, DialogTitle, IconButton } from '@mui/material';\nimport { XMarkIcon } from '@heroicons/react/24/outline'; // 使用 HeroIcons 的叉叉圖示\nimport { colors } from \"../../../styles/colors\";\nimport Button from '../../Button';\nimport { useTranslation } from 'react-i18next';\n\ninterface ModalProps {\n  open: boolean;\n  title?: string;\n  content?: React.ReactNode[];\n  buttons?: React.ReactNode[]; // 修改這裡，讓它支援多個按鈕\n  onClose: () => void;\n  container?: HTMLElement | null;\n  datasetId?:string;\n}\n\nconst ComicVolumeListModal: React.FC<ModalProps> = ({\n  open,\n  onClose,\n  title = '',\n  content,\n  buttons = [],\n  container\n}) => {\n  const [selectedIndices, setSelectedIndices] = useState<number>(-1);\n  const {t} = useTranslation();\n  return (\n    <Dialog \n      open={open} \n      onClose={onClose} \n      fullWidth \n      container={container}\n      PaperProps={{\n        style: { maxHeight: '70vh', maxWidth: '100vw', overflowX: 'hidden' },\n      }}\n    >\n      <div className='w-full' style={{ backgroundColor: colors.background, padding: '0px' }}>\n        <div className=\"w-full flex justify-center items-start relative\">\n          <DialogTitle \n            className=\"text-white\"\n            style={{\n              paddingRight: '3rem',\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              width: '100%', // 確保占滿父容器\n              display: 'block' // 避免 flex 導致截斷失效\n            }}\n          \n          >\n            {title}\n          </DialogTitle>\n          <IconButton onClick={onClose} style={{position: 'absolute', right:'2px'}}>\n            <XMarkIcon className=\"h-6 w-6 text-white\" />\n          </IconButton>\n        </div>\n        <DialogContent className='w-full flex justify-center items-center' style={{ padding: '10px 0px' }}>\n          {content?.map((line, index) => (\n            <div\n              key={index}      \n              className=\"cursor-pointer my-2 text-white w-full\"\n            >\n              {line}\n            </div>\n          ))}\n        </DialogContent>\n        <DialogActions style={{ display: 'flex', justifyContent: 'center' }} className=\" w-full p-1\">        \n          {buttons.map((button, index) => (\n            <React.Fragment key={index}>{button}</React.Fragment>\n          ))}\n        </DialogActions>\n      </div> \n    </Dialog>\n  );\n};\n\nexport default ComicVolumeListModal;\n","import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Button } from \"@mui/material\";\nimport { faHeart as faRegHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faList,\n  faHeart,\n  faRedoAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { RootState, AppDispatch } from \"../../store\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Modal from \"../../components/Modal\";\nimport VolumeList from \"../VolumeList\";\nimport useUserInfo from \"../../utils/checkUserInfoUtils\";\nimport ListModal from \"../Modal/ListModal\";\nimport ComicVolumeListModal from \"../Modal/ComicVolumeListModal\";\nimport { Favorite, PostParam } from \"../../type/favorite\";\nimport { favorite } from \"../../store/favoritesSlice\";\nimport { fetchUserInfo } from \"../../store/userInfoSlice\";\nimport { showCustomToast } from \"../CustomToast\";\n\ninterface ComicBarProps {\n  imgLength: number;\n  imgIndex: number;\n  imageRefs: React.MutableRefObject<(HTMLImageElement | null)[]>;\n}\n\nconst ComicBar = ({ imgLength, imgIndex, imageRefs }: ComicBarProps) => {\n  const navigate = useNavigate();\n\n  const comicInfo = useSelector(\n    (state: RootState) => state.comic.comicInfoData\n  );\n  const uuid = comicInfo ? comicInfo?.comic_info.ci_uuid : \"\";\n  const [currentIndex, setCurrentIndex] = useState(imgIndex);\n  const [useSlide, setUseSlide] = useState(false);\n  const [favorIsOpen, setFavorIsOpen] = useState(false);\n  const [isFavor, setIsFavor] = useState(false);\n\n  const dispatch: AppDispatch = useDispatch();\n\n  const favorites = useSelector((state: RootState) => state.favorites);\n  const folderList = useSelector(\n    (state: RootState) => state.favorites.folderList?.data\n  );\n  const { userInfo } = useUserInfo();\n\n  const { t } = useTranslation();\n\n  const handleSliderChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = parseInt(e.target.value, 10);\n    setUseSlide(true);\n    setCurrentIndex(value);\n    const imageElement = imageRefs.current[currentIndex];\n    if (imageElement) {\n      imageElement.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n    setUseSlide(false);\n  };\n\n  // 打开和关闭弹窗的函数\n  const toggleModal = () => {\n    setIsVolumeListOpen(!isVolumeListOpen);\n  };\n\n  const favoritesByUuid = () => {\n    if (\n      userInfo &&\n      userInfo?.data?.my_favorite_list &&\n      userInfo?.data?.my_favorite_list.length !== 0\n    ) {\n      const favoriteItems = userInfo?.data?.my_favorite_list.filter(\n        (item) => item === uuid\n      );\n      return favoriteItems;\n    } else {\n      return null;\n    }\n  };\n\n  const handleFavorOpen = () => {\n    if (userInfo && folderList) {\n      console.log(\"folderList: \", folderList);\n      if (folderList.length > 0 && !isFavor) {\n        setFavorIsOpen(true);\n      } else if (isFavor) {\n        const data = JSON.stringify([uuid]);\n        const config: PostParam = {\n          data: data,\n        };\n        dispatch(favorite({ method: \"delVideo\", post_param: config }))\n          .then((result:any) => {\n            const payload = result.payload as Favorite;\n            if (payload.code === -1) {\n              dispatch(fetchUserInfo());\n              showCustomToast(t(\"移除最愛成功\"), \"error\");\n            } else {\n              console.log(\"delVideo exception: \", payload);\n            }\n          })\n          .catch((error) => {\n            showCustomToast(error, \"error\");\n          });\n      }\n    } else {\n      navigate(\"/app/login\");\n    }\n  };\n  \n  const handleAddFavorite = (index: number) => {\n    console.log(\"handleAddFavorite\");\n    if (folderList) {\n      const config: PostParam = {\n        folder_id: folderList[index].folder_id,\n        video_id: uuid,\n      };\n      dispatch(favorite({ method: \"addFavo\", post_param: config }))\n        .then((result) => {\n          const payload = result.payload as Favorite;\n          if (payload.code === -1) {\n            dispatch(fetchUserInfo());\n            showCustomToast(t(\"新增最愛成功\"), \"error\");\n          } else {\n            console.log(\"addFavo exception: \", payload);\n          }\n        })\n        .catch((error) => {\n          showCustomToast(error, \"error\");\n        });\n    }\n  };\n\n  const handleFavorClose = () => setFavorIsOpen(false);\n\n  const [isVolumeListOpen, setIsVolumeListOpen] = useState(false);\n  const handleVolumeListClose = () => setIsVolumeListOpen(false);\n\n  useEffect(() => {\n    if (userInfo) {\n      if ((favoritesByUuid() ?? []).length > 0) {\n        setIsFavor(true);\n      } else {\n        setIsFavor(false);\n      }\n    }\n  }, [userInfo?.data.my_favorite_list, uuid]);\n\n  useEffect(() => {\n    dispatch(favorite({ method: \"getAllFolder\" }));\n  }, [dispatch, userInfo, uuid]);\n\n  useEffect(() => {\n    console.log(\"favorites: \", favorites);\n  }, [favorites]);\n\n  return (\n    <div className=\"bottom-0 left-0 right-0 flex flex-col items-center p-4 bg-background\">\n      {/* Slider Section */}\n      <div className=\"flex w-full items-center mb-2\">\n        <span className=\"mr-2 text-sm\">\n          {useSlide ? currentIndex : imgIndex}\n        </span>\n        <input\n          type=\"range\"\n          min=\"0\"\n          max={imgLength}\n          value={imgIndex}\n          onChange={handleSliderChange}\n          onInput={handleSliderChange}\n          className=\"w-full cursor-pointer accent-red-500\"\n        />\n      </div>\n\n      {/* Button Section */}\n      <div className=\"flex justify-between w-full\">\n        <Button\n          className=\"flex flex-col items-center \"\n          startIcon={<FontAwesomeIcon icon={faList} />}\n          onClick={toggleModal}\n          sx={{\n            color: \"white\",\n            padding: \"0\",\n            \".MuiButton-startIcon\": {\n              margin: 0,\n              fontSize: \"20px\",\n              color: \"white\",\n            },\n          }}\n        >\n          {t(\"目錄\")}\n        </Button>\n        <Button\n          className=\"flex flex-col items-center \"\n          startIcon={<FontAwesomeIcon icon={faRedoAlt} />}\n          sx={{\n            color: \"white\",\n            padding: \"0\",\n            \".MuiButton-startIcon\": {\n              margin: 0,\n              fontSize: \"20px\",\n              color: \"white\",\n            },\n          }}\n        >\n          {t(\"重整\")}\n        </Button>\n        <Button\n          className=\"flex flex-col items-center\"\n          startIcon={<FontAwesomeIcon icon={isFavor ? faHeart : faRegHeart} />}\n          sx={{\n            color: \"white\",\n            padding: \"0\",\n            \".MuiButton-startIcon\": {\n              margin: 0,\n              fontSize: \"20px\",\n              color: \"white\",\n            },\n          }}\n          onClick={handleFavorOpen}\n        >\n          {t(\"加入最愛\")}\n        </Button>\n      </div>\n\n      {/* Modal with PartClips */}\n      <ComicVolumeListModal\n        title={comicInfo?.comic_info.ci_name}\n        open={isVolumeListOpen}\n        onClose={handleVolumeListClose}\n        content={[<VolumeList type=\"online\" color=\"black\" />]}\n      />\n      <ListModal\n        title={t(\"加入最愛\")}\n        open={favorIsOpen}\n        onClose={handleFavorClose}\n        content={[...new Set(folderList?.map((item) => item.folder_name))]}\n        onClick={handleAddFavorite}\n      />\n    </div>\n  );\n};\nexport default ComicBar;\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"component\", \"disableGutters\", \"fixed\", \"maxWidth\", \"classes\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nimport composeClasses from '@mui/utils/composeClasses';\nimport capitalize from '@mui/utils/capitalize';\nimport useThemePropsSystem from '../useThemeProps';\nimport systemStyled from '../styled';\nimport createTheme from '../createTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultTheme = createTheme();\nconst defaultCreateStyledComponent = systemStyled('div', {\n  name: 'MuiContainer',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`maxWidth${capitalize(String(ownerState.maxWidth))}`], ownerState.fixed && styles.fixed, ownerState.disableGutters && styles.disableGutters];\n  }\n});\nconst useThemePropsDefault = inProps => useThemePropsSystem({\n  props: inProps,\n  name: 'MuiContainer',\n  defaultTheme\n});\nconst useUtilityClasses = (ownerState, componentName) => {\n  const getContainerUtilityClass = slot => {\n    return generateUtilityClass(componentName, slot);\n  };\n  const {\n    classes,\n    fixed,\n    disableGutters,\n    maxWidth\n  } = ownerState;\n  const slots = {\n    root: ['root', maxWidth && `maxWidth${capitalize(String(maxWidth))}`, fixed && 'fixed', disableGutters && 'disableGutters']\n  };\n  return composeClasses(slots, getContainerUtilityClass, classes);\n};\nexport default function createContainer(options = {}) {\n  const {\n    // This will allow adding custom styled fn (for example for custom sx style function)\n    createStyledComponent = defaultCreateStyledComponent,\n    useThemeProps = useThemePropsDefault,\n    componentName = 'MuiContainer'\n  } = options;\n  const ContainerRoot = createStyledComponent(({\n    theme,\n    ownerState\n  }) => _extends({\n    width: '100%',\n    marginLeft: 'auto',\n    boxSizing: 'border-box',\n    marginRight: 'auto',\n    display: 'block'\n  }, !ownerState.disableGutters && {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    // @ts-ignore module augmentation fails if custom breakpoints are used\n    [theme.breakpoints.up('sm')]: {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3)\n    }\n  }), ({\n    theme,\n    ownerState\n  }) => ownerState.fixed && Object.keys(theme.breakpoints.values).reduce((acc, breakpointValueKey) => {\n    const breakpoint = breakpointValueKey;\n    const value = theme.breakpoints.values[breakpoint];\n    if (value !== 0) {\n      // @ts-ignore\n      acc[theme.breakpoints.up(breakpoint)] = {\n        maxWidth: `${value}${theme.breakpoints.unit}`\n      };\n    }\n    return acc;\n  }, {}), ({\n    theme,\n    ownerState\n  }) => _extends({}, ownerState.maxWidth === 'xs' && {\n    // @ts-ignore module augmentation fails if custom breakpoints are used\n    [theme.breakpoints.up('xs')]: {\n      // @ts-ignore module augmentation fails if custom breakpoints are used\n      maxWidth: Math.max(theme.breakpoints.values.xs, 444)\n    }\n  }, ownerState.maxWidth &&\n  // @ts-ignore module augmentation fails if custom breakpoints are used\n  ownerState.maxWidth !== 'xs' && {\n    // @ts-ignore module augmentation fails if custom breakpoints are used\n    [theme.breakpoints.up(ownerState.maxWidth)]: {\n      // @ts-ignore module augmentation fails if custom breakpoints are used\n      maxWidth: `${theme.breakpoints.values[ownerState.maxWidth]}${theme.breakpoints.unit}`\n    }\n  }));\n  const Container = /*#__PURE__*/React.forwardRef(function Container(inProps, ref) {\n    const props = useThemeProps(inProps);\n    const {\n        className,\n        component = 'div',\n        disableGutters = false,\n        fixed = false,\n        maxWidth = 'lg'\n      } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n    const ownerState = _extends({}, props, {\n      component,\n      disableGutters,\n      fixed,\n      maxWidth\n    });\n\n    // @ts-ignore module augmentation fails if custom breakpoints are used\n    const classes = useUtilityClasses(ownerState, componentName);\n    return (\n      /*#__PURE__*/\n      // @ts-ignore theme is injected by the styled util\n      _jsx(ContainerRoot, _extends({\n        as: component\n        // @ts-ignore module augmentation fails if custom breakpoints are used\n        ,\n        ownerState: ownerState,\n        className: clsx(classes.root, className),\n        ref: ref\n      }, other))\n    );\n  });\n  process.env.NODE_ENV !== \"production\" ? Container.propTypes /* remove-proptypes */ = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    component: PropTypes.elementType,\n    disableGutters: PropTypes.bool,\n    fixed: PropTypes.bool,\n    maxWidth: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl', false]), PropTypes.string]),\n    sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n  } : void 0;\n  return Container;\n}","'use client';\n\nimport PropTypes from 'prop-types';\nimport { createContainer } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nconst Container = createContainer({\n  createStyledComponent: styled('div', {\n    name: 'MuiContainer',\n    slot: 'Root',\n    overridesResolver: (props, styles) => {\n      const {\n        ownerState\n      } = props;\n      return [styles.root, styles[`maxWidth${capitalize(String(ownerState.maxWidth))}`], ownerState.fixed && styles.fixed, ownerState.disableGutters && styles.disableGutters];\n    }\n  }),\n  useThemeProps: inProps => useDefaultProps({\n    props: inProps,\n    name: 'MuiContainer'\n  })\n});\nprocess.env.NODE_ENV !== \"production\" ? Container.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * Set the max-width to match the min-width of the current breakpoint.\n   * This is useful if you'd prefer to design for a fixed set of sizes\n   * instead of trying to accommodate a fully fluid viewport.\n   * It's fluid by default.\n   * @default false\n   */\n  fixed: PropTypes.bool,\n  /**\n   * Determine the max-width of the container.\n   * The container width grows with the size of the screen.\n   * Set to `false` to disable `maxWidth`.\n   * @default 'lg'\n   */\n  maxWidth: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl', false]), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Container;","import React, { useState, useMemo, useRef, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport BackBar from \"../../components/BackBar\";\nimport Modal from \"../../components/Modal\";\nimport PlanSelection from \"../../components/Modal/PlanSelection\";\nimport ComicBar from \"../../components/ComicBar\";\n\nimport { Container, Button } from \"@mui/material\";\n\nimport { RootState, AppDispatch } from \"../../store\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n\nimport useUserInfo from \"../../utils/checkUserInfoUtils\";\nimport {\n  fetchChapter,\n  setCurrentChapter,\n  setPageInfoList,\n} from \"../../store/comicSlice\";\n\nconst ComicPage: React.FC = () => {\n  const { chaptersIndex } = useParams<{ chaptersIndex: string }>();\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const comicInfo = useSelector(\n    (state: RootState) => state.comic.comicInfoData\n  );\n  const pageInfoList = useSelector(\n    (state: RootState) => state.comic.pageInfoList\n  );\n\n  const { userInfo } = useUserInfo();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [modalContent, setModalContent] = useState(\"\");\n  const [isPlanSelectionOpen, setIsPlanSelectionOpen] = useState(false);\n  const [isBarsVisible, setIsBarsVisible] = useState(true); // 控制顯示狀態\n\n  const handleContainerClick = () => {\n    setIsBarsVisible((prev) => !prev); // 切換狀態\n  };\n\n  {\n    /*pouchDB使用*/\n  }\n  const dispatch: AppDispatch = useDispatch();\n\n  const handleClose = () => setIsOpen(false);\n  const handleConfirm = () => {\n    navigate(\"/app/Recharge\");\n  };\n  const handleCancel = () => {\n    setIsOpen(false);\n  };\n\n  const handleButtons = [\n    <Button\n      className=\"button-full active mt-1 w-1/3\"\n      type=\"button\"\n      onClick={handleConfirm}\n    >\n      {t(\"確認\")}\n    </Button>,\n    <Button\n      className=\"button-full active mt-1 w-1/3\"\n      type=\"button\"\n      onClick={handleCancel}\n    >\n      {t(\"取消\")}\n    </Button>,\n  ];\n\n  const imgRefs = useRef<(HTMLImageElement | null)[]>([]);\n\n  useEffect(() => {\n    if (chaptersIndex) {\n      setCurrentImageIndex(0);\n      dispatch(setPageInfoList(null));\n      dispatch(setCurrentChapter(Number(chaptersIndex)));\n\n      const chapter = comicInfo?.comic_chapters.filter(\n        (chapter) => chapter.ci_chapter_order === chaptersIndex\n      );\n      const uuid = comicInfo?.comic_info.ci_uuid;\n\n      if (chapter && uuid) {\n        dispatch(\n          fetchChapter({\n            uuid: uuid,\n            cat: 1,\n            chapter_uuid: chapter[0]?.ci_uuid,\n            view_type: 0,\n          })\n        );\n      }\n    }\n  }, [dispatch, chaptersIndex]);\n\n  useEffect(() => {\n    const lazyLoadObserver = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          const img = entry.target as HTMLImageElement;\n          const dataSrc = img.getAttribute(\"data-src\");\n\n          // 懶加載圖片\n          if (entry.isIntersecting && dataSrc) {\n            img.src = dataSrc;\n            img.removeAttribute(\"data-src\");\n            img.style.height = \"auto\"; // 移除預設高度\n            lazyLoadObserver.unobserve(img); // 停止觀察已載入的圖片\n          }\n        });\n      },\n      {\n        threshold: 0.1, // 當 10% 可見時觸發\n      }\n    );\n\n    imgRefs.current.forEach((img) => {\n      if (img) lazyLoadObserver.observe(img);\n    });\n\n    return () => lazyLoadObserver.disconnect(); // 清除 observer\n  }, [pageInfoList]);\n\n  // 頁數更新邏輯（使用滾動事件）\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!containerRef.current) return;\n\n      const containerTop = containerRef.current.getBoundingClientRect().top;\n\n      imgRefs.current.forEach((img, index) => {\n        if (img) {\n          const imgRect = img.getBoundingClientRect();\n          const imgTop = imgRect.top - containerTop;\n\n          // 檢查圖片是否大部分可見\n          if (\n            imgTop < containerRef.current!.clientHeight / 2 &&\n            imgTop + imgRect.height > 0\n          ) {\n            setCurrentImageIndex(index);\n          }\n        }\n      });\n    };\n\n    const container = containerRef.current;\n    container?.addEventListener(\"scroll\", handleScroll);\n\n    return () => container?.removeEventListener(\"scroll\", handleScroll);\n  }, [pageInfoList]);\n\n  useEffect(() => {\n    // 每次 id 改變時，將 container 滑動位置設回頂端\n    if (containerRef.current) {\n      containerRef.current.scrollTop = 0;\n    }\n  }, [chaptersIndex]);\n\n  return (\n    <div>\n      <div\n        className={`fixed top-0 left-0 w-full transition-transform duration-300 ${\n          isBarsVisible ? \"translate-y-0\" : \"-translate-y-full\"\n        }`}\n      >\n        <BackBar customTitle={comicInfo?.comic_info.ci_name} home />\n      </div>\n      <Container\n        ref={containerRef}\n        style={{\n          overflowY: \"auto\", // 確保可以垂直滾動\n          height: \"100vh\", // 設定為視窗高度\n          boxSizing: \"border-box\", // 確保 padding 不影響高度\n        }}\n        onClick={handleContainerClick}\n      >\n        {pageInfoList?.page_infos.map((item, index) => (\n          <img\n            key={index}\n            src={require(\"../../images/qc-default-img.jpg\")} // 預設圖片\n            data-src={`https:${item.src}`} // 使用 data-src 存放真實路徑\n            alt={`圖片 ${index + 1}`}\n            style={{ display: \"block\", width: \"100%\", height: 1500 }} // 預設高度\n            ref={(el) => (imgRefs.current[index] = el)}\n          />\n        ))}\n      </Container>\n      <div\n        className={`fixed bottom-0 left-0 w-full transition-transform duration-300 ${\n          isBarsVisible ? \"translate-y-0\" : \"translate-y-full\"\n        }`}\n      >\n        <ComicBar\n          imgLength={pageInfoList?.page_infos.length ?? 0}\n          imgIndex={currentImageIndex + 1}\n          imageRefs={imgRefs}\n        />\n      </div>\n      {comicInfo && comicInfo.comic_info.ci_point && (\n        <PlanSelection\n          open={isPlanSelectionOpen}\n          setIsPlanSelectionOpen={setIsPlanSelectionOpen}\n          costPoint={Number(comicInfo!.comic_info.ci_point)}\n          type={`comicOnlineTicket`}\n        />\n      )}\n      <Modal\n        open={isOpen}\n        onClose={handleClose}\n        content={[modalContent]}\n        buttons={handleButtons}\n      />\n    </div>\n  );\n};\n\nexport default ComicPage;\n","// src/hooks/useUserInfo.ts\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../store';\n\nconst useUserInfo = () => {\n  const userInfo = useSelector((state: RootState) => state.userInfo.userInfoData);\n\n  const checkUserOwnProduct = (uuid: string) => {\n      if (userInfo) {\n        return uuid in userInfo.data.has_products;\n      }\n  };\n\n  return { userInfo, checkUserOwnProduct };\n};\n\nexport default useUserInfo;\n"],"names":["toastStyles","success","backgroundColor","color","paddingLeft","paddingRight","marginTop","error","loading","showCustomToast","message","type","toast","style","duration","undefined","position","_ref","_mvDownloadInfo$filel","open","onClose","title","t","useTranslation","dispatch","useDispatch","mvDownloadInfo","useSelector","state","video","comicDownloadInfo","comic","downloadInfo","videoDownloadBtn","filelinks","map","item","index","_jsxs","download","href","vurl","rel","className","width","height","textDecoration","onClick","setDownloading","alert","children","_jsx","size","comicDownloadBtn","filelinkPDF","target","filelinkZIP","videoFooterInfo","comicFooterInfo","Dialog","PaperProps","XMarkIcon","DialogContent","padding","DialogActions","content","defaultIndex","selectedIndex","selectedIndices","setSelectedIndices","useState","player","init","stream","favor","useEffect","_content$indexOf","_content$indexOf2","indexOf","fullWidth","maxWidth","colors","background","DialogTitle","IconButton","right","line","toggleHighlight","usageType","usePoint","cost","description","navigate","useNavigate","videoInfo","_state$wallet$status","wallet","status","_state$wallet$status2","error_msg","videoInfoData","comicInfo","_state$comic$comicPur","comicPurchaseData","episode","comicInfoData","currentChapter","pointToComicResult","pageInfoList","isRechargeModalOpen","setIsRechargeModalOpen","rechargeModalDes","setRechargeModalDes","handleRechargeModalClose","result","result_msg","handleButtons","Button","handleConfirm","uuid","data","num","use","check_buy","then","payload","catch","console","exchange","dw","chapter","comic_chapters","filter","ci_chapter_order","toString","comic_info","ci_uuid","pointToComic","chapter_uuid","fetchComicInfo","handleToRechargeButtons","Modal","buttons","setIsPlanSelectionOpen","costPoint","setBtnGroupIndex","comicPurchaseInfo","purchaseInfo","mvPurchaseInfo","currentConfig","buttonText","pointDesc","ref","needPoint","isUsageOpen","setIsUsageOpen","setUsePoint","useMemo","handleUsageOpen","includes","useCallback","selectedType","handleClose","UsageHandler","userInfo","_state$userInfo$userI","userInfoData","isDownload","language","setData","isOpen","setIsOpen","modalContent","setModalContent","isPlanSelectionOpen","isFilterOldToNew","setIsFilterOldToNew","handleCancel","handleEpisodes","setCurrentChapter","Number","username","config","downloadComic","_comicInfo$comic_info","point","ci_point","ex_tickets","comic_download","setComicPurchaseInfo","setDownloadOpen","log","fetchChapter","cat","view_type","params","Object","keys","length","handlePlanSelectionOpen","infoList","downloadOpen","sortedData","reverse","setIsDownload","MaterialUISwitch","styled","Switch","_ref2","theme","margin","transform","opacity","left","top","borderRadius","Box","getFontClass","sx","display","alignItems","FormControlLabel","control","m","checked","onChange","event","checkedIcon","justifyContent","DownloadIcon","fontSize","icon","LiveTv","label","Typography","marginRight","handleSortToggle","FontAwesomeIcon","faAngleUp","faAngleDown","marginLeft","gridTemplateColumns","gap","primary","inactive","ci_name","has_permission","faLock","PlanSelection","DownloadModal","handleDownloadClose","container","maxHeight","overflowX","whiteSpace","overflow","textOverflow","button","React","imgLength","imgIndex","imageRefs","currentIndex","setCurrentIndex","useSlide","setUseSlide","favorIsOpen","setFavorIsOpen","isFavor","setIsFavor","favorites","folderList","_state$favorites$fold","useUserInfo","handleSliderChange","e","value","parseInt","imageElement","current","scrollIntoView","behavior","block","isVolumeListOpen","setIsVolumeListOpen","_favoritesByUuid","favoritesByUuid","_userInfo$data","_userInfo$data2","_userInfo$data3","my_favorite_list","favorite","method","min","max","onInput","startIcon","faList","toggleModal","faRedoAlt","faHeart","faRegHeart","handleFavorOpen","JSON","stringify","post_param","code","fetchUserInfo","ComicVolumeListModal","handleVolumeListClose","VolumeList","ListModal","handleFavorClose","Set","folder_name","folder_id","video_id","_excluded","defaultTheme","createTheme","defaultCreateStyledComponent","systemStyled","name","slot","overridesResolver","props","styles","ownerState","root","capitalize","String","fixed","disableGutters","useThemePropsDefault","inProps","useThemePropsSystem","Container","options","arguments","createStyledComponent","useThemeProps","componentName","ContainerRoot","_extends","boxSizing","spacing","breakpoints","up","values","reduce","acc","breakpointValueKey","breakpoint","unit","_ref3","Math","xs","component","other","_objectWithoutPropertiesLoose","classes","useUtilityClasses","slots","composeClasses","generateUtilityClass","as","clsx","createContainer","useDefaultProps","ComicPage","_pageInfoList$page_in","chaptersIndex","useParams","containerRef","useRef","currentImageIndex","setCurrentImageIndex","isBarsVisible","setIsBarsVisible","imgRefs","setPageInfoList","_chapter$","lazyLoadObserver","IntersectionObserver","entries","forEach","entry","img","dataSrc","getAttribute","isIntersecting","src","removeAttribute","unobserve","threshold","observe","disconnect","handleScroll","containerTop","getBoundingClientRect","imgRect","imgTop","clientHeight","addEventListener","removeEventListener","scrollTop","BackBar","customTitle","home","overflowY","handleContainerClick","prev","page_infos","require","alt","el","ComicBar","checkUserOwnProduct","has_products"],"sourceRoot":""}