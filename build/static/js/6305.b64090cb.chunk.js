"use strict";(self.webpackChunkqc_app=self.webpackChunkqc_app||[]).push([[6305],{8450:(e,s,t)=>{t.d(s,{E:()=>o});var a=t(3768);const r={success:{backgroundColor:"#f44336",color:"#fff",paddingLeft:"2rem",paddingRight:"2rem",marginTop:"50%"},error:{backgroundColor:"#f44336",color:"#fff"},loading:{backgroundColor:"#333",color:"#fff"}},o=(e,s)=>(0,a.oR)(e,{style:r[s],duration:"loading"===s?void 0:4e3,position:"top-center"})},7983:(e,s,t)=>{t.d(s,{A:()=>r});t(5043);var a=t(579);const r=e=>{const s={className:`w-full text-sm px-3  min-h-10 text-black rounded border-2 border-[#555555] focus-visible:outline-0 ${e.className}`,disabled:e.disabled,value:e.value,onChange:s=>{var t;"file"===e.type?e.onInputChange(null===(t=s.target.files)||void 0===t?void 0:t[0]):e.onInputChange(s.target.value)},placeholder:e.placeholder,autoComplete:e.autocomplete||"off",hidden:e.hidden,style:e.authCode?{borderTopRightRadius:0,borderBottomRightRadius:0}:void 0};return(0,a.jsxs)("div",{className:"relative flex items-center",children:[e.multiline?(0,a.jsx)("textarea",{...s,rows:e.rows||1}):(0,a.jsx)("input",{...s,type:e.type||"text",accept:e.accept}),e.rightIcon&&(0,a.jsx)("div",{className:"absolute right-2",children:e.rightIcon})]})}},6305:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(5043),r=t(3216),o=t(3768),l=t(6448),n=t(392),i=t(7983),d=t(8450),c=t(9531),u=t(4832),m=t(3003),p=t(4117),h=t(7631),g=t(6395),x=t(6222),f=t(579);const v=()=>{const{t:e}=(0,p.Bd)(),s=(0,r.Zp)(),t=(0,r.zy)(),v=new URLSearchParams(t.search).get("route"),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)({username:"",password:""}),[y,C]=(0,a.useState)(!1),[N,A]=(0,a.useState)({username:"",password:""}),[E,I]=(0,a.useState)(0);(0,a.useEffect)((()=>{null!==v&&void 0!==v&&v.includes("/Member")?I(4):null!==v&&void 0!==v&&v.includes("/Favorite")?I(3):I(0)}),[v]);const L=(0,m.d4)((e=>e.init.language)),R=(0,m.wA)(),M=()=>{const{username:t,password:a}=j,r=new Promise(((s,r)=>{w(!0),setTimeout((async()=>{const o={username:t,password:a};if((()=>{let s=!0;const t={username:"",password:""};return j.password!==j.password&&(t.password=e("\u5bc6\u78bc\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u8f38\u5165"),s=!1),j.username!==j.username&&(t.username=e("\u67e5\u7121\u6b64\u5e33\u865f\u8acb\u91cd\u65b0\u8f38\u5165"),s=!1),A(t),s})()){const t=await R(h.iD(o));s({user:t.payload,msg:e("\u767b\u5165\u6210\u529f!")})}else r({msg:e("\u8acb\u78ba\u8a8d\u5e33\u865f\u6216\u5bc6\u78bc")})}),1e3)})),l=(0,d.E)(e("\u767b\u5165\u4e2d..."),"loading");r.then((e=>{const t=e.user;if(!t||"object"!==typeof t)throw new Error("Invalid login session");return(0,d.E)(e.msg,"success"),s(null===v?-1:v),e})).catch((s=>{console.log("Promise \u88ab\u62d2\u7d55:",s.msg),s.msg?(0,d.E)(s.msg,"error"):(0,d.E)(e("\u5e33\u865f\u5bc6\u78bc\u6709\u8aa4"),"error")})).finally((()=>{o.oR.dismiss(l),w(!1)}))};const S=(null===v||void 0===v?void 0:v.includes("/Member"))||(null===v||void 0===v?void 0:v.includes("/Favorite"));return(0,f.jsxs)("div",{children:[(0,f.jsx)(n.A,{type:S?"hideBackBtn":void 0,title:e("\u767b\u5165")}),(0,f.jsx)("div",{className:"p-4 space-y-4",children:(0,f.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),M()},children:[(0,f.jsxs)("div",{className:`${(0,x.kW)(L)}`,children:[(0,f.jsx)("label",{className:"block mb-2",children:e("\u5e33\u865f")}),(0,f.jsx)(i.A,{disabled:b,placeholder:e("\u8acb\u8f38\u5165\u5e33\u865f"),value:j.username,onInputChange:e=>k({...j,username:e}),autocomplete:"username",className:""!==N.username?"border-red-500":""}),N.username&&(0,f.jsx)("p",{className:"text-red-500 text-xs",children:N.username})]}),(0,f.jsxs)("div",{className:`${(0,x.kW)(L)}`,children:[(0,f.jsx)("label",{className:"flex mb-2 items-center",children:e("\u5bc6\u78bc")}),(0,f.jsx)(i.A,{disabled:b,type:y?"text":"password",placeholder:e("\u8acb\u8f38\u5165\u5bc6\u78bc"),value:j.password,onInputChange:e=>k({...j,password:e}),rightIcon:y?(0,f.jsx)(c.A,{className:"w-6 h-6 text-gray-600 stroke-1.5",onClick:()=>C(!y)}):(0,f.jsx)(u.A,{className:"w-6 h-6 text-gray-600 stroke-1.5",onClick:()=>C(!y)}),autocomplete:y?void 0:"current-password",className:""!==N.password?"border-red-500":""}),N.password&&(0,f.jsx)("p",{className:"text-red-500 text-xs",children:N.password})]}),(0,f.jsxs)("div",{className:`${(0,x.kW)(`${L}_m`)} flex flex-col mt-1 `,children:[(0,f.jsx)("button",{onClick:()=>s("/app/ForgetPassword"),className:"w-1/2 ml-auto text-red-500 text-right",type:"button",disabled:b,children:e("\u5fd8\u8a18\u5bc6\u78bc?")}),(0,f.jsx)(l.A,{className:"button-full active mt-2",type:"submit",disable:b,children:e("\u767b\u5165")}),(0,f.jsx)(l.A,{className:"button-full secondary mt-2",type:"button",disable:b,onClick:()=>s("/app/login/register"),children:e("\u514d\u8cbb\u8a3b\u518a")})]})]})}),S&&(0,f.jsx)(g.A,{value:E,setValue:I})]})}},9531:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(5043);function r(e,s){let{title:t,titleId:r,...o}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const o=a.forwardRef(r)},4832:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(5043);function r(e,s){let{title:t,titleId:r,...o}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const o=a.forwardRef(r)}}]);
//# sourceMappingURL=6305.b64090cb.chunk.js.map