"use strict";(self.webpackChunkqc_app=self.webpackChunkqc_app||[]).push([[4559],{8450:(e,s,t)=>{t.d(s,{E:()=>o});var a=t(3768);const r={success:{backgroundColor:"#f44336",color:"#fff",paddingLeft:"2rem",paddingRight:"2rem",marginTop:"50%"},error:{backgroundColor:"#f44336",color:"#fff"},loading:{backgroundColor:"#333",color:"#fff"}},o=(e,s)=>(0,a.oR)(e,{style:r[s],duration:"loading"===s?void 0:4e3,position:"top-center"})},7983:(e,s,t)=>{t.d(s,{A:()=>r});t(5043);var a=t(579);const r=e=>{const s={className:`w-full text-sm px-3  min-h-10 text-black rounded border-2 border-[#555555] focus-visible:outline-0 ${e.className}`,disabled:e.disabled,value:e.value,onChange:s=>{var t;"file"===e.type?e.onInputChange(null===(t=s.target.files)||void 0===t?void 0:t[0]):e.onInputChange(s.target.value)},placeholder:e.placeholder,autoComplete:e.autocomplete||"off",hidden:e.hidden,style:e.authCode?{borderTopRightRadius:0,borderBottomRightRadius:0}:void 0};return(0,a.jsxs)("div",{className:"relative flex items-center",children:[e.multiline?(0,a.jsx)("textarea",{...s,rows:e.rows||1}):(0,a.jsx)("input",{...s,type:e.type||"text",accept:e.accept}),e.rightIcon&&(0,a.jsx)("div",{className:"absolute right-2",children:e.rightIcon})]})}},4559:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(5043),r=t(3216),o=t(7631),n=t(7983),l=t(6448),i=t(392),d=t(611),c=t(9531),m=t(4832),u=t(3003),p=t(4117),h=t(8450),x=t(3768),f=t(6222),w=t(579);function g(e){let{show:s,setShow:t}=e;return s?(0,w.jsx)(c.A,{className:"w-6 h-6 text-gray-600 stroke-1.5 cursor-pointer",onClick:()=>t(!s)}):(0,w.jsx)(m.A,{className:"w-6 h-6 text-gray-600 stroke-1.5 cursor-pointer",onClick:()=>t(!s)})}const b=e=>{var s,t;let{onSubmit:c}=e;const{t:m}=(0,p.Bd)(),b=(0,u.wA)(),v=(0,u.d4)((e=>e.userInfo.registerInfo)),j=(0,u.d4)((e=>e.init.language)),k=(0,r.Zp)(),[C,N]=(0,a.useState)(!1),[y,A]=(0,a.useState)({username:"",password:"",confirmPassword:"",email:""}),[I,S]=(0,a.useState)({username:"",password:"",confirmPassword:"",email:""}),[L,E]=(0,a.useState)(!1),[P,R]=(0,a.useState)(!1),[Z,$]=(0,a.useState)(!1),[M,B]=(0,a.useState)(""),T=()=>{if(!Z&&(()=>{let e=!0;const s={username:"",password:"",confirmPassword:"",email:""};return/^[a-zA-Z0-9]{6,10}$/.test(y.username)||(s.username=m("\u5e33\u865f\u9700\u70ba6-10\u500b\u82f1\u6587\u6578\u5b57"),e=!1),/^[a-zA-Z0-9]{4,10}$/.test(y.password)||(s.password=m("\u5bc6\u78bc\u9700\u70ba4-10\u500b\u82f1\u6587\u6578\u5b57"),e=!1),y.confirmPassword!==y.password&&(s.confirmPassword=m("\u5bc6\u78bc\u8207\u78ba\u8a8d\u5bc6\u78bc\u4e0d\u76f8\u7b26"),e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(s.email=m("\u96fb\u5b50\u90f5\u4ef6\u683c\u5f0f\u4e0d\u6b63\u78ba"),e=!1),S(s),e})()){const e={username:y.username,password:y.password,cpassword:y.confirmPassword};$(!0),B((0,h.E)(m("\u8a3b\u518a\u4e2d..."),"loading")),b((0,o.kz)(e)).catch((e=>console.log(e))).finally((()=>{setTimeout((()=>{$(!1)}),5e3)}))}};return(0,a.useEffect)((()=>{if(console.log(v),v)if(0===v.code){const e={username:y.username,password:y.password};b((0,o.iD)(e)).then((e=>{const s=e.payload;if(s&&s.username&&s.sid){const e={nmail:y.email};b((0,o.JZ)(e)).then((e=>{200===e.payload.code&&(x.Ay.dismiss(M),k("/app/Login/RegistrationSuccessful"))})).catch((e=>{console.error("reset userInfo failed:",e)}))}})).catch((e=>{console.error("login failed:",e)}))}else $(!1),x.Ay.dismiss(M),N(!0);console.log("registerInfo: ",v)}),[v]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:`${(0,f.kW)(`${j}_m`)} space-y-4 p-4`,onSubmit:T,children:[(0,w.jsx)(i.A,{title:m("\u8a3b\u518a")}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block mb-2",children:m("\u5e33\u865f")}),(0,w.jsx)(n.A,{placeholder:m("\u5e33\u865f\uff1a\u97006-10\u500b\u82f1\u6587\u6578\u5b57"),value:y.username,onInputChange:e=>A({...y,username:e}),className:""!==I.username?"border-red-500":"",autocomplete:"username"}),I.username&&(0,w.jsx)("p",{className:"text-red-500 text-xs",children:I.username})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"flex mb-2 items-center",children:m("\u5bc6\u78bc")}),(0,w.jsx)(n.A,{type:L?"text":"password",placeholder:m("\u5bc6\u78bc\uff1a\u97004-10\u500b\u82f1\u6587\u6578\u5b57"),value:y.password,onInputChange:e=>A({...y,password:e}),className:""!==I.password?"border-red-500":"",autocomplete:"new-password",rightIcon:(0,w.jsx)(g,{show:L,setShow:E})}),I.password&&(0,w.jsx)("p",{className:"text-red-500 text-xs",children:I.password})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"flex mb-2 items-center",children:m("\u78ba\u8a8d\u5bc6\u78bc")}),(0,w.jsx)(n.A,{type:P?"text":"password",placeholder:m("\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc"),value:y.confirmPassword,onInputChange:e=>A({...y,confirmPassword:e}),className:""!==I.confirmPassword?"border-red-500":"",autocomplete:"new-password",rightIcon:(0,w.jsx)(g,{show:P,setShow:R})}),I.confirmPassword&&(0,w.jsx)("p",{className:"text-red-500 text-xs",children:I.confirmPassword})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block mb-2",children:m("\u96fb\u5b50\u90f5\u4ef6")}),(0,w.jsx)(n.A,{type:"text",placeholder:m("\u8acb\u8f38\u5165Email"),value:y.email,onInputChange:e=>A({...y,email:e}),className:""!==I.email?"border-red-500":"",autocomplete:"email"}),I.email&&(0,w.jsx)("p",{className:"text-red-500 text-xs",children:I.email})]}),(0,w.jsxs)("div",{className:"text-xs text-center",onClick:()=>k("/app/Login/Terms"),children:[m("\u9ede\u64ca\u300c\u8a3b\u518a\u6703\u54e1\u300d\u8868\u793a\u60a8\u540c\u610f\u6211\u5011\u7684"),(0,w.jsx)("span",{className:"text-red-500",children:m("\u4f7f\u7528\u689d\u6b3e")})]}),(0,w.jsx)(l.A,{className:"button-full active mt-2",onClick:T,children:m("\u514d\u8cbb\u8a3b\u518a")}),(0,w.jsx)(l.A,{className:"button-full secondary mt-2",type:"button",onClick:()=>k("/app/Login"),children:m("\u767b\u5165")})]}),(0,w.jsx)(d.A,{open:C,onClose:()=>{N(!1),b((0,o.at)(null))},title:m("\u932f\u8aa4"),content:[(0,w.jsx)("span",{children:null!==(s=null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.data)&&void 0!==s?s:""})]})]})}},9531:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(5043);function r(e,s){let{title:t,titleId:r,...o}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const o=a.forwardRef(r)},4832:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(5043);function r(e,s){let{title:t,titleId:r,...o}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const o=a.forwardRef(r)}}]);
//# sourceMappingURL=4559.bb9ed8b1.chunk.js.map